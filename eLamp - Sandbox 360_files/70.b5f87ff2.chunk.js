(this["webpackJsonp@elamp/main-app"]=this["webpackJsonp@elamp/main-app"]||[]).push([[70],{1568:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),o=n(14),l=n(45),i=n(19),s=n(1071),c=n(10),d=n(32),u=new Map([[d.JobOfferStatusEnum.Archived,{labelKey:d.JobOfferStatusEnum.Archived.toLocaleLowerCase(),color:"grey.1"}],[d.JobOfferStatusEnum.Draft,{labelKey:d.JobOfferStatusEnum.Draft.toLocaleLowerCase(),color:"alert.0"}],[d.JobOfferStatusEnum.Published,{labelKey:d.JobOfferStatusEnum.Published.toLocaleLowerCase(),color:"success.0"}]]),b=n(742),j=n(3),f=n(1),m=function(e){var t=e.onClick,n=Object(o.useTranslate)({capitalize:!0});return Object(f.jsx)(o.Button,{onClick:t,children:n("create_job_offer")})};t.default=function(){var e=Object(r.useHistory)(),t=Object(c.useAppContext)().getErrorMessage,n=Object(o.useTranslate)({capitalize:!0}),d=Object(o.useAlert)(),h=Object(i.usePaginateGraphQLQuery)({query:i.GetJobOffersListDocument,variables:{},pageSize:20,getConnections:function(e){return e.jobOffers}}),O=h.edges,p=h.loading,g=h.isLoadingMore,x=h.error,y=h.totalCount,C=h.loadMore;Object(a.useEffect)((function(){x&&d.error(t(x))}),[x]);var v=Object(a.useMemo)((function(){if(O)return O.map((function(e){var t;return{id:e.node.id,name:e.node.name,contractType:e.node.contractType?n(e.node.contractType.toLowerCase()):"-",candidates:e.node.candidates.nodes.length||0,createdAt:e.node.createdAt,updatedAt:e.node.updatedAt||e.node.createdAt,startDate:e.node.startDate,image:e.node.image||void 0,status:e.node.status,skillsCount:e.node.skillsCount,owner:{displayName:e.node.owner.displayName,avatarURL:e.node.owner.avatarURL},placeLabel:(null===(t=e.node.place)||void 0===t?void 0:t.label)||"-",linkedJobs:e.node.linkedJobs.nodes.map((function(e,t){return{id:"linkedJob-".concat(t),name:e.name,kind:"jobTag"}}))||[],issuerGroups:e.node.issuerGroups.nodes.map((function(e){return e.name}))||[]}}))}),[O]);return Object(f.jsxs)(b.a,{pl:1,pt:1,display:"flex",flexDirection:"column",children:[Object(f.jsx)(o.Line,{width:"100%",height:"50px",children:Object(f.jsx)(m,{onClick:function(){e.push(j.b.JOB_OFFER_CREATION_FORM.getRoute())}})}),Object(f.jsx)(o.Box,{pt:1,width:"100%",height:"calc(100% - 50px)",children:Object(f.jsx)(c.TableContent,{rows:v.map((function(e){return e})),fixedColumnCount:1,columns:[{dataKey:"job_offer_title",headerTitle:n("job_offer_title"),isSortable:!1,columnWidth:Object(l.b)("large"),cellRenderer:function(t){var n=t.node;return Object(f.jsx)(c.LongTextCell,{text:n.name,size:"large",isClickable:!0,onClick:function(){return t=n.id,void e.push(j.b.RECRUITING_JOB_OFFERS_DETAILS.getRoute({jobId:t}));var t}})}},{dataKey:"status",headerTitle:n("status"),isSortable:!1,columnWidth:Object(l.b)("medium"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.GenericStatusCell,{statusObject:Object(l.g)(u,t.status),size:"medium"})}},{dataKey:"created_by",headerTitle:n("created_by"),isSortable:!1,columnWidth:Object(l.b)("large"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.SingleUserCell,{user:t.owner,size:"large"})}},{dataKey:"last_update",headerTitle:n("last_update"),isSortable:!1,columnWidth:Object(l.b)("small"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.DateCell,{date:t.updatedAt,size:"small"})}},{dataKey:"application_title",headerTitle:n("application_title"),isSortable:!1,columnWidth:Object(l.b)("small"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.NumberDisplayCell,{fontWeight:"normal",number:t.candidates,size:"small"})}},{dataKey:"contract_type",headerTitle:n("contract_type"),isSortable:!1,columnWidth:Object(l.b)("small"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.ShortTextCell,{fontWeight:"normal",text:t.contractType,size:"small"})}},{dataKey:"location",headerTitle:n("location"),isSortable:!1,columnWidth:Object(l.b)("medium"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.LongTextCell,{fontWeight:"normal",text:t.placeLabel,size:"medium"})}},{dataKey:"start",headerTitle:n("start"),isSortable:!1,columnWidth:Object(l.b)("small"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.DateCell,{date:t.startDate,size:"small"})}},{dataKey:"linked_jobs",headerTitle:n("linked_jobs"),isSortable:!1,columnWidth:Object(l.b)("large"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.ObjectTagsCell,{tags:t.linkedJobs,size:"large"})}},{dataKey:"number_of_skills",headerTitle:n("number_of_skills"),isSortable:!1,columnWidth:Object(l.b)("small"),cellRenderer:function(e){var t=e.node;return Object(f.jsx)(c.NumberDisplayCell,{number:t.skillsCount,size:"small"})}}],isLoading:p||void 0===v,isLoadingMore:g,noRowsRenderer:function(){return Object(f.jsxs)(o.Column,{width:"100%",height:"100%",justifyContent:"center",children:[Object(f.jsx)(o.Image,{as:s.a,width:600,height:600}),Object(f.jsx)(o.Text,{color:"grey.5",fontSize:"big",fontWeight:"semiBold",children:n("no_job_offer_to_display")})]})},totalRowCount:y,rowHeight:50,loadMoreRows:function(e){var t=e.startIndex;C(t)}})})]})}},742:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(17),r=n(285),o=(n(0),n(14)),l=n(1),i=["children"],s=function(e){var t=e.children,n=Object(r.a)(e,i);return Object(l.jsx)(o.Box,Object(a.a)(Object(a.a)({boxSizing:"border-box",height:"100%",overflow:"hidden",width:"100%"},n),{},{children:t}))}}}]);