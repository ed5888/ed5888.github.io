(this["webpackJsonp@elamp/main-app"]=this["webpackJsonp@elamp/main-app"]||[]).push([[47],{1534:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(15),l=r(10),o=r(742),a=r(892),c=r(3),s=r(1);t.default=function(e){var t=e.tabsOptions,r=Object(i.useParams)(),u=r.jobId,d=r.userId,f=Object(i.useHistory)(),b=Object(l.useAppContext)().setTabsOptions;Object(n.useEffect)((function(){return b(t),function(){b(void 0)}}),[]);return Object(s.jsx)(o.a,{children:Object(s.jsx)(a.a,{userId:d,jobId:u,onGoBack:function(){f.push(c.b.USER_PROFILE_JOBS.getRoute({userId:d}))}})})}},780:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n,i,l,o,a,c,s,u,d,f,b,j=r(0),m=["title","titleId"];function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y(e,t){var r=e.title,y=e.titleId,x=O(e,m);return j.createElement("svg",p({id:"Calque_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 323.1 212.6",style:{enableBackground:"new 0 0 323.1 212.6"},xmlSpace:"preserve",ref:t,"aria-labelledby":y},x),r?j.createElement("title",{id:y},r):null,n||(n=j.createElement("style",{type:"text/css"},"\r\n\t.st0_noResult{fill:url(#SVGID_1_);}\r\n\t.st1_noResult{fill:url(#SVGID_2_);}\r\n\t.st2_noResult{fill:#FFFFFF;}\r\n\t.st3_noResult{fill:url(#SVGID_3_);}\r\n\t.st4{fill:#F2F2FA;stroke:#F2F2FA;stroke-width:0.5;stroke-miterlimit:10;}\r\n\t.st5{fill:url(#SVGID_4_);}\r\n\t.st6{fill:url(#SVGID_5_);}\r\n\t.st7{fill:url(#SVGID_6_);}\r\n\t.st8{fill:url(#SVGID_7_);}\r\n\t.st9{fill:url(#SVGID_8_);}\r\n")),j.createElement("g",null,j.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:231.9352,y1:316.0863,x2:194.0648,y2:420.1349,gradientTransform:"matrix(1 0 0 1 0 -274.5106)"},j.createElement("stop",{offset:1.298195e-7,style:{stopColor:"#F8F8FF"}}),j.createElement("stop",{offset:.1135,style:{stopColor:"#F3F3FB"}}),j.createElement("stop",{offset:.3957,style:{stopColor:"#BABACC"}}),j.createElement("stop",{offset:.6118,style:{stopColor:"#B2B2C5"}}),j.createElement("stop",{offset:1,style:{stopColor:"#A7A7BC"}})),i||(i=j.createElement("polygon",{className:"st0_noResult",points:"164.6,29.9 261.4,52.3 261.4,157.3 164.6,134.9  "})),j.createElement("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:86.4165,y1:316.1778,x2:146.3835,y2:420.0434,gradientTransform:"matrix(1 0 0 1 0 -274.5106)"},j.createElement("stop",{offset:.004188478,style:{stopColor:"#F8F8FF"}}),j.createElement("stop",{offset:.1691,style:{stopColor:"#F3F3FB"}}),j.createElement("stop",{offset:.2799,style:{stopColor:"#DEDEE9"}}),j.createElement("stop",{offset:.4582,style:{stopColor:"#C1C1D2"}}),j.createElement("stop",{offset:.614,style:{stopColor:"#B0B0C4"}}),j.createElement("stop",{offset:.7289,style:{stopColor:"#AAAABF"}}),j.createElement("stop",{offset:1,style:{stopColor:"#A7A7BC"}})),l||(l=j.createElement("polygon",{className:"st1_noResult",points:"68,157.3 164.8,134.9 164.8,29.9 68,52.3  "})),o||(o=j.createElement("polygon",{className:"st2_noResult",points:"82.7,72.5 150.1,55.7 150.1,46.1 82.7,62.8  "})),j.createElement("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:158.651,y1:403.4566,x2:144.949,y2:481.1646,gradientTransform:"matrix(1 0 0 1 0 -274.5106)"},j.createElement("stop",{offset:0,style:{stopColor:"#FFFFFF"}}),j.createElement("stop",{offset:.321,style:{stopColor:"#F5F5FD"}}),j.createElement("stop",{offset:.5613,style:{stopColor:"#EBEBF6"}}),j.createElement("stop",{offset:.7754,style:{stopColor:"#DBDBEB"}}),j.createElement("stop",{offset:.973,style:{stopColor:"#C5C5DB"}}),j.createElement("stop",{offset:1,style:{stopColor:"#C1C1D8"}})),a||(a=j.createElement("ellipse",{className:"st3_noResult",cx:151.8,cy:167.8,rx:141.8,ry:31.3})),c||(c=j.createElement("path",{className:"st4",d:"M280.8,99.6c-0.2,0-0.4,0-0.7,0c-1.1,0-1.9-0.9-1.9-2s0.9-1.9,2-1.9c3.7,0.1,7.4-1.2,10.2-3.5 c-1.6-0.5-3-1.3-4.2-3.6s-1.5-5.3-0.6-7.9c1-2.8,4.6-6,7.8-4.8c2.8,0.9,4.5,4.3,4.7,7c0.1,1.2,0,2.5-0.2,3.8 c5.4-4.1,9.8-10.2,13.1-18.1c0.4-1,1.6-1.4,2.5-1c1,0.4,1.4,1.6,1,2.5c-3.7,8.5-8.4,15.1-14.4,19.6c-1.3,1-3,2.3-4.9,2.9 c-0.3,0.4-0.7,0.8-1,1.1C290.9,97.3,285.9,99.4,280.8,99.6z M292,79.5c-0.7,0.1-2.3,1.2-2.9,2.6c-0.5,1.6-0.5,3.3,0.3,4.7 c0.8,1.5,1.4,1.6,3.5,2.1h0.2c0.8-1.5,1.4-3.4,1.2-5.6c-0.1-1.7-1.2-3.4-2.2-3.8C292.1,79.5,292,79.5,292,79.5z"})),j.createElement("linearGradient",{id:"SVGID_4_",gradientUnits:"userSpaceOnUse",x1:94.7214,y1:460.2134,x2:100.7911,y2:437.561,gradientTransform:"matrix(1 0 0 1 0 -274.5106)"},j.createElement("stop",{offset:0,style:{stopColor:"#A7A7BC",stopOpacity:0}}),j.createElement("stop",{offset:.5595,style:{stopColor:"#A7A7BC",stopOpacity:.5}}),j.createElement("stop",{offset:1,style:{stopColor:"#A7A7BC"}})),s||(s=j.createElement("polygon",{className:"st5",points:"69.3,158.2 166.1,180.6 116,191.3 29.4,168.2  "})),j.createElement("linearGradient",{id:"SVGID_5_",gradientUnits:"userSpaceOnUse",x1:116.4,y1:328.1106,x2:116.4,y2:455.5106,gradientTransform:"matrix(1 0 0 1 0 -274.5106)"},j.createElement("stop",{offset:0,style:{stopColor:"#F8F8FF"}}),j.createElement("stop",{offset:.3223,style:{stopColor:"#F4F4FB"}}),j.createElement("stop",{offset:.3725,style:{stopColor:"#EEEEF6"}}),j.createElement("stop",{offset:.5889,style:{stopColor:"#D7D7E1"}}),j.createElement("stop",{offset:.8249,style:{stopColor:"#B1B1BF"}}),j.createElement("stop",{offset:.989,style:{stopColor:"#8A8A9C"}})),u||(u=j.createElement("polygon",{className:"st6",points:"164.8,181 68,158.6 68,53.6 164.7,76  "})),j.createElement("linearGradient",{id:"SVGID_6_",gradientUnits:"userSpaceOnUse",x1:188.5367,y1:339.3488,x2:236.8505,y2:442.9582,gradientTransform:"matrix(1 0 0 1 0 -274.5106)"},j.createElement("stop",{offset:1.248265e-7,style:{stopColor:"#F8F8FF"}}),j.createElement("stop",{offset:.4152,style:{stopColor:"#F5F5FC"}}),j.createElement("stop",{offset:.6566,style:{stopColor:"#D9D9E5"}}),j.createElement("stop",{offset:.834,style:{stopColor:"#BDBDCE"}}),j.createElement("stop",{offset:1,style:{stopColor:"#A7A7BC"}})),d||(d=j.createElement("path",{className:"st7",d:"M164.6,76v105l96.8-24V53.6L164.6,76z M246.6,84.9l-67.4,16.7v-9.7l67.4-16.7V84.9z"})),j.createElement("linearGradient",{id:"SVGID_7_",gradientUnits:"userSpaceOnUse",x1:245.4114,y1:105.4699,x2:267.4114,y2:105.4699,gradientTransform:"matrix(6.123234e-17 1 -1 6.123234e-17 139.5699 -161.8114)"},j.createElement("stop",{offset:1.248265e-7,style:{stopColor:"#F8F8FF",stopOpacity:0}}),j.createElement("stop",{offset:1,style:{stopColor:"#E6E6F5"}})),f||(f=j.createElement("circle",{className:"st8",cx:34.1,cy:94.6,r:11})),j.createElement("linearGradient",{id:"SVGID_8_",gradientUnits:"userSpaceOnUse",x1:182.7114,y1:-132.8924,x2:200.7114,y2:-132.8924,gradientTransform:"matrix(6.123234e-17 1 -1 6.123234e-17 139.5699 -161.8114)"},j.createElement("stop",{offset:1.248265e-7,style:{stopColor:"#F8F8FF",stopOpacity:0}}),j.createElement("stop",{offset:1,style:{stopColor:"#E6E6F5"}})),b||(b=j.createElement("circle",{className:"st9",cx:272.5,cy:29.9,r:9}))))}var x=j.forwardRef(y);r.p},803:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n,i,l,o,a,c,s,u,d,f,b,j,m,p,O,y,x=r(0),v=["title","titleId"];function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C(e,t){var r=e.title,C=e.titleId,E=h(e,v);return x.createElement("svg",g({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 255 255",ref:t,"aria-labelledby":C},E),r?x.createElement("title",{id:C},r):null,n||(n=x.createElement("g",null,x.createElement("g",{id:"arrow-drop-down"},x.createElement("polygon",{points:"0,63.75 127.5,191.25 255,63.75  "})))),i||(i=x.createElement("g",null)),l||(l=x.createElement("g",null)),o||(o=x.createElement("g",null)),a||(a=x.createElement("g",null)),c||(c=x.createElement("g",null)),s||(s=x.createElement("g",null)),u||(u=x.createElement("g",null)),d||(d=x.createElement("g",null)),f||(f=x.createElement("g",null)),b||(b=x.createElement("g",null)),j||(j=x.createElement("g",null)),m||(m=x.createElement("g",null)),p||(p=x.createElement("g",null)),O||(O=x.createElement("g",null)),y||(y=x.createElement("g",null)))}var E=x.forwardRef(C);r.p},832:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return s}));var n=r(187),i=r(17),l=r(188),o=r(19),a=function(e){var t,r,n=e.result,i=e.userId,l=e.skillId,o=(n||[]).find((function(e){return e.resource.id===i}));return!(null===o||void 0===o||null===(t=o.reasons)||void 0===t||null===(r=t.skills_missing)||void 0===r?void 0:r.find((function(e){return e===l})))},c=function(e){var t=e.result,r=e.pattern,o=e.userData;if(!t||!r||!o)return{data:[]};var a=new Set([].concat(Object(l.a)(r.must.map((function(e){return e.skill.library_context}))),Object(l.a)(r.should.map((function(e){return e.skill.library_context}))))),c=new Set([].concat(Object(l.a)(r.must.map((function(e){return e.skill._key}))),Object(l.a)(r.should.map((function(e){return e.skill._key})))));return{data:[{resource:Object(i.a)({},o),score:0,scoreByLibrary:Object(l.a)(a).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(n.a)({},t,{scoreAbs:0,refScore:100}))}),{}),reasons:{skills_missing:Object(l.a)(c)}}]}},s=function(e){return{must:(e.must||[]).map((function(e){return{skill:Object(i.a)(Object(i.a)({},Object(o.getFormatedSkillBasicFragment)(e.skill)),{},{libraryContext:Object(o.getFormatedLibraryBasicFragment)(e.skill.libraryContext)}),qualifiers:(e.qualifiers||[]).map((function(e){var t;return{comparator:e.comparator,qualifier:{id:e.qualifier.id,name:e.qualifier.name,defaultValue:e.qualifier.defaultValue,description:Object(o.maybeToOptional)(e.qualifier.description),fieldType:e.qualifier.fieldType,comparators:Object(o.maybeToOptional)(e.qualifier.comparators),fields:((null===(t=e.qualifier)||void 0===t?void 0:t.fields)||[]).map((function(e){return{decorators:null===e||void 0===e?void 0:e.decorators,options:null===e||void 0===e?void 0:e.options,validators:null===e||void 0===e?void 0:e.validators}}))},value:e.value}}))}})),should:(e.should||[]).map((function(e){return{skill:Object(i.a)(Object(i.a)({},Object(o.getFormatedSkillBasicFragment)(e.skill)),{},{libraryContext:Object(o.getFormatedLibraryBasicFragment)(e.skill.libraryContext)}),qualifiers:(e.qualifiers||[]).map((function(e){var t;return{qualifier:{id:e.qualifier.id,name:e.qualifier.name,defaultValue:e.qualifier.defaultValue,description:Object(o.maybeToOptional)(e.qualifier.description),fieldType:e.qualifier.fieldType,comparators:Object(o.maybeToOptional)(e.qualifier.comparators),fields:((null===(t=e.qualifier)||void 0===t?void 0:t.fields)||[]).map((function(e){return{decorators:null===e||void 0===e?void 0:e.decorators,options:null===e||void 0===e?void 0:e.options,validators:null===e||void 0===e?void 0:e.validators}}))},comparator:e.comparator,value:e.value}}))}}))}}},839:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return y}));var n=r(53),i=r(0),l=r.n(i),o=function(){var e=Object(i.useState)(),t=Object(n.a)(e,2),r=t[0],l=t[1];return{openModal:function(e){l(e)},closeModal:function(){l(void 0)},isOpened:Object(i.useMemo)((function(){return"undefined"!==typeof r}),[r]),jobToPin:r}},a=r(139),c=r.n(a),s=r(286),u=r(15),d=r(14),f=r(745),b=r(19),j=r(10),m=r(1),p=function(e){var t=e.job,r=e.isUpdatingPinJob,i=void 0!==r&&r,o=e.onSuccess,a=e.onClickRemove,p=e.onCancel,y=Object(d.useTranslate)(),x=l.a.useState(i&&(null===t||void 0===t?void 0:t.status)?t.status:b.PinJobStatusEnum.Have),v=Object(n.a)(x,2),g=v[0],h=v[1],C=Object(d.useAlert)(),E=Object(j.useAppContext)(),k=E.getErrorMessage,S=E.user,w=Object(b.usePinJobMutation)({onCompleted:function(){o&&o(),C.success(y("job_pinned")),p()},onError:function(e){C.error(k(e)),p()}}),I=Object(n.a)(w,2),B=I[0],L=I[1].loading,F=Object(u.useParams)().userId;function _(){return(_=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="undefined"!==typeof F?F:S.id,t&&B({variables:{input:{userId:r,jobId:null===t||void 0===t?void 0:t.id,status:g}}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(d.Text,{mb:3,fontSize:"huge",fontWeight:"bold",children:[Object(m.jsx)(d.Icon,{mr:2,as:f.a}),null===t||void 0===t?void 0:t.name]}),Object(m.jsx)(d.Text,{fontSize:"large",fontWeight:"semiBold",mb:2,children:y("define_as")}),Object(m.jsx)(O,{onChange:h,value:g,statusName:"have"}),Object(m.jsx)(O,{onChange:h,value:g,statusName:"past"}),Object(m.jsx)(O,{onChange:h,value:g,statusName:"goal"}),Object(m.jsxs)(d.Line,{mt:3,justifyContent:"flex-end",children:[Object(m.jsx)(d.Button,{onClick:p,mr:1,appearance:"outline",children:y("cancel")}),i&&Object(m.jsx)(d.Button,{onClick:a,mr:1,accent:"grey",appearance:"clean",children:y("remove")}),Object(m.jsx)(d.Button,{onClick:function(){return _.apply(this,arguments)},isLoading:L,children:y("submit")})]})]})};function O(e){var t=e.statusName,r=e.onChange,n=e.value,i=Object(d.useTranslate)();return Object(m.jsxs)(d.Text,{as:"label",my:2,children:[Object(m.jsx)(d.RadioButton,{onChange:function(){return r(t)},checked:n===t}),Object(m.jsxs)(d.Box,{children:[Object(m.jsx)(d.Text,{fontSize:"medium",children:i(t+"_job_title")}),Object(m.jsx)(d.Text,{fontSize:"small",color:"grey.5",children:i(t+"_job_description")})]})]})}var y=function(e){var t=e.isOpened,r=e.job,n=e.onSuccess,i=e.onClickRemove,l=e.isUpdatingPinJob,o=e.onCancel;return Object(m.jsx)(d.Modal,{isOpened:t,children:Object(m.jsx)(p,{job:r,onSuccess:n,onClickRemove:i,isUpdatingPinJob:l,onCancel:o})})}},840:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(139),i=r.n(n),l=r(286),o=r(53),a=(r(0),r(15)),c=r(19),s=r(14),u=r(10),d=r(1),f=function(e){var t=e.job,r=e.onSuccess,n=e.onCancel,f=Object(a.useParams)().userId,b=Object(u.useAppContext)(),j=b.getErrorMessage,m=b.user,p=Object(s.useTranslate)(),O=Object(s.useAlert)(),y=Object(c.useUnpinJobMutation)({refetchQueries:["getUserProfile"],onCompleted:function(){O.success(p("modification_successful")),r(),n()},onError:function(e){O.error(j(e)),n()}}),x=Object(o.a)(y,2),v=x[0],g=x[1].loading;function h(){return(h=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="undefined"!==typeof f?f:m.id,v({variables:{jobId:t.id,userId:r}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(s.Text,{fontSize:"large",children:p("unpin_job_validation_msg")}),Object(d.jsxs)(s.Line,{mt:3,justifyContent:"flex-end",children:[Object(d.jsx)(s.Button,{appearance:"outline",mr:1,onClick:n,children:p("cancel")}),Object(d.jsx)(s.Button,{isLoading:g,onClick:function(){return h.apply(this,arguments)},children:p("submit")})]})]})}},842:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(17),i=r(285),l=r(0),o=r(14),a=r(63),c=r(745),s=r(10),u=r(1),d=["user","qualifier","userValue","comparator","requiredValue","isJobMatching","isMatch","isValidationIconHidden","isQualifierNameDisplayed","isQualifierRequestedValidated","isQualifierValidated","textColor"],f=function(e){var t=e.user,r=e.qualifier,f=e.userValue,b=e.comparator,j=e.requiredValue,m=e.isJobMatching,p=e.isMatch,O=e.isValidationIconHidden,y=void 0!==O&&O,x=e.isQualifierNameDisplayed,v=e.isQualifierRequestedValidated,g=e.isQualifierValidated,h=e.textColor,C=Object(i.a)(e,d),E=Object(l.useMemo)((function(){return"undefined"===typeof j||null===j}),[j]),k=Object(l.useMemo)((function(){return!0===p?"success":!1===p?"error":"string"===typeof h?h:E?"grey.5":void 0}),[j,p]),S=Object(l.useMemo)((function(){if("undefined"!==typeof b){var e=s.qualifierComparatorLabelMap.get(b);return"string"===typeof e?e:void 0}}),[b]);return Object(u.jsxs)(o.Column,Object(n.a)(Object(n.a)({alignItems:"flex-start"},C),{},{children:[x&&Object(u.jsx)(o.Text,{fontSize:"small",fontWeight:"semiBold",mb:0,children:"".concat(r.name," :")}),Object(u.jsxs)(o.Line,{children:[Object(u.jsx)(a.UserAvatar,{user:t,size:"tiny",mr:0}),Object(u.jsx)(a.QualifierValue,{qualifier:r,value:f,mr:0,fontWeight:"semiBold",fontSize:"small",color:k}),f&&!y&&Object(u.jsx)(a.SkillsIcons.ValidateIcon,{isActive:g,size:"small",mr:0,ml:"{****}"===f?0:void 0}),!E&&"string"===typeof S&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.Text,{fontWeight:"semiBold",mr:0,children:S}),Object(u.jsxs)(o.Line,{ml:0,children:[m&&Object(u.jsx)(o.Icon,{as:c.a,size:14,mr:0}),Object(u.jsx)(a.QualifierValue,{qualifier:r,value:j,fontWeight:"semiBold",fontSize:"small"}),"boolean"===typeof v&&!y&&Object(u.jsx)(a.SkillsIcons.ValidateIcon,{isActive:v,size:"small",ml:0})]})]})]})]}))}},851:function(e,t,r){"use strict";r.d(t,"a",(function(){return je}));var n,i,l,o,a,c,s,u,d,f,b,j,m,p,O,y,x=r(17),v=r(285),g=r(188),h=r(0),C=r(14),E=r(287),k=r(19),S=r(780),w=r(53),I=r(225),B=r(65),L=r(23),F=r(63),_={cell:"library_header"},M={cell:"user"},V={cell:"library"},T={cell:"matching"},q={cell:"skill"},A={cell:"qualifier_value"},D={cell:"null"},G=r(1),z=["value","comparator"],R=function(e){var t=e.skill,r=e.qualifiers;return Object(G.jsxs)(C.Line,{flex:1,children:[Object(G.jsx)(C.Box,{flex:1,pl:3,pr:0,children:Object(G.jsx)(C.TextWithAutoTooltipOnEllipsis,{tooltipTitle:t.name,rows:2,children:t.name})}),Object(G.jsx)(C.Box,{flex:1,overflowY:"auto",overflowX:"hidden",children:(null===r||void 0===r?void 0:r.map((function(e){var t=e.value,r=e.comparator,n=Object(v.a)(e,z);return Object(G.jsx)(C.Box,{height:60,display:"flex",flexDirection:"column",justifyContent:"center",flex:1,children:Object(G.jsx)(F.QualifierComparator,{qualifier:n,comparatorState:{value:t,comparator:r,id:n._key},readOnly:!0,space:"small",comparatorWidth:125})},n._key)})))||null})]})},P=r(803),U=["title","titleId"];function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function J(e,t){var r=e.title,x=e.titleId,v=N(e,U);return h.createElement("svg",H({style:{transform:"rotate(180deg)"},id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 255 255",ref:t,"aria-labelledby":x},v),r?h.createElement("title",{id:x},r):null,n||(n=h.createElement("g",null,h.createElement("g",{id:"arrow-drop-down"},h.createElement("polygon",{points:"0,63.75 127.5,191.25 255,63.75  "})))),i||(i=h.createElement("g",null)),l||(l=h.createElement("g",null)),o||(o=h.createElement("g",null)),a||(a=h.createElement("g",null)),c||(c=h.createElement("g",null)),s||(s=h.createElement("g",null)),u||(u=h.createElement("g",null)),d||(d=h.createElement("g",null)),f||(f=h.createElement("g",null)),b||(b=h.createElement("g",null)),j||(j=h.createElement("g",null)),m||(m=h.createElement("g",null)),p||(p=h.createElement("g",null)),O||(O=h.createElement("g",null)),y||(y=h.createElement("g",null)))}var Z=h.forwardRef(J),Q=(r.p,function(e){var t=e.library,r=e.skillsAreShown;return Object(G.jsxs)(C.Line,{flex:1,p:2,justifyContent:"space-between",children:[Object(G.jsxs)(C.Line,{children:[Object(G.jsx)(C.Icon,{as:Object(F.getIconComponent)(t.logo||""),size:18,color:t.color,title:t.logo,flexShrink:0,mr:2}),Object(G.jsx)(C.Text,{fontSize:"medium",fontWeight:"semiBold",children:t.name})]}),Object(G.jsx)(C.Icon,{as:r?P.a:Z,size:22,color:"black.2",flexShrink:0,mr:2})]})}),W=["scoreByLib"],X=function(e){var t=e.scoreByLib;Object(v.a)(e,W);return Object(G.jsx)(C.Box,{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:Object(G.jsx)(F.CustomTargetProgressBar,{targetValue:t.refScore,value:t.scoreAbs,isScoreFullDisplay:!0,isTooltipDisplay:!1})})},K=r(140),Y=r(61),$=r(3),ee=Object(Y.default)(C.Box)((function(){return{textDecoration:"none"}})),te=function(e){var t=e.user,r=e.score;return Object(G.jsxs)(ee,{as:K.Link,to:$.b.USER_PROFILE.getRoute({userId:t.id}),flex:1,p:1,height:"100%",display:"flex",justifyContent:"space-around",flexDirection:"column",children:[Object(G.jsxs)(C.Line,{children:[Object(G.jsx)(F.UserAvatar,{user:t}),Object(G.jsx)(C.Text,{ml:1,fontSize:"large",fontWeight:"semiBold",children:t.displayName})]}),Object(G.jsxs)(C.Box,{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:[Object(G.jsx)(C.Text,{fontWeight:"semiBold",children:"".concat(Math.round(100*(r||0))," %")}),Object(G.jsx)(F.JobScoringProgressBar,{value:r,isNoLabelDisplay:!0,isTooltipDisplay:!1,ml:1})]})]})},re=r(793),ne=r(288),ie=function(e){var t=e.qualifiers,r=e.reasons,n=e.skill,i=Object(C.useTranslate)({capitalize:!0});return(r.skills_missing||[]).includes(n.id||"NONE")?Object(G.jsx)(C.Box,{flex:1,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(G.jsxs)(C.Line,{bg:"error.0",width:"100%",height:"100%",justifyContent:"center",children:[Object(G.jsx)(C.Icon,{as:ne.a,size:16,mr:1,color:"error"}),Object(G.jsx)(C.Text,{fontSize:"small",textAlign:"center",children:i("skill_not_possess")})]})}):(null===t||void 0===t?void 0:t.length)?Object(G.jsx)(C.Box,{flex:1,children:null===t||void 0===t?void 0:t.map((function(e){var t,l,o=(t=e.id,((null===(l=r[n.id])||void 0===l?void 0:l.qualifiers_match)||[]).find((function(e){return e.id===t}))?["success",(l.qualifiers_match||[]).find((function(e){return e.id===t}))]:((null===l||void 0===l?void 0:l.qualifiers_mismatch)||[]).find((function(e){return e.id===t}))?["alert",(l.qualifiers_mismatch||[]).find((function(e){return e.id===t}))]:((null===l||void 0===l?void 0:l.qualifiers_missing)||[]).find((function(e){return e.id===t}))?["error",(l.qualifiers_missing||[]).find((function(e){return e.id===t}))]:[]),a=Object(w.a)(o,2),c=a[0],s=a[1];return s?Object(G.jsx)(C.Box,{height:60,display:"flex",flexDirection:"column",justifyContent:"center",py:0,children:Object(G.jsx)(C.Line,{bg:"".concat(c,".0"),width:"100%",height:"100%",justifyContent:"center",children:s.power_value?Object(G.jsx)(F.QualifierValue,{qualifier:e,value:s.power_value,color:"black.2",fontSize:"small"}):Object(G.jsx)(C.Text,{textAlign:"center",ellipsis:!0,title:i("not_specified"),color:"black.2",fontSize:"small",children:i("not_specified")})})},""):null}))}):Object(G.jsxs)(C.Line,{bg:"success.0",width:"100%",height:"100%",justifyContent:"center",children:[Object(G.jsx)(C.Icon,{as:re.a,size:16,mr:1,color:"success"}),Object(G.jsx)(C.Text,{fontSize:"small",textAlign:"center",children:i("skill_possess")})]})},le=["cell","title"],oe=function(e){var t=e.cell,r=e.title,n=Object(v.a)(e,le),i=Object(C.useTranslate)();switch(t){case D.cell:return null;case q.cell:return Object(G.jsx)(R,Object(x.a)({},n));case V.cell:return Object(G.jsx)(Q,Object(x.a)({},n));case _.cell:return Object(G.jsxs)(C.Line,{p:2,children:[Object(G.jsx)(C.Text,{textTransform:"uppercase",fontWeight:"semiBold",fontSize:"medium",children:"".concat(Object(L.maj)(i("displayed_skills"))," :")}),Object(G.jsx)(C.Text,{ml:2,fontSize:"medium",children:r})]});case T.cell:return Object(G.jsx)(X,Object(x.a)({},n));case M.cell:return Object(G.jsx)(te,Object(x.a)({},n));case A.cell:return Object(G.jsx)(ie,Object(x.a)({},n));default:return null}},ae=r(164);function ce(e,t){return[Object(x.a)(Object(x.a)({},_),{},{title:t})].concat(Object(g.a)(e.map((function(e){return Object(x.a)(Object(x.a)({},M),e)}))))}function se(e,t){return[Object(x.a)(Object(x.a)({},V),{},{library:e})].concat(Object(g.a)(t.map((function(t){return Object(x.a)(Object(x.a)({},T),{},{scoreByLib:{scoreAbs:t.scoreByLib[e.id].scoreAbs,refScore:t.scoreByLib[e.id].refScore}})}))))}function ue(e,t){return[Object(x.a)(Object(x.a)({},q),e)].concat(Object(g.a)(t.map((function(t){return Object(x.a)(Object(x.a)(Object(x.a)({},A),e),{},{reasons:t.reasons})}))))}function de(e,t,r){return e.filter((function(e){return e.skill.libraryContext.id===t.id}))}var fe=function(e){var t=e.title,r=e.criterias,n=e.libraries,i=e.resources,l=e.loadMore,o=e.onSkillClick,a=Object(C.useTranslate)(),c=Object(B.h)(),s=Object(C.useResponsive)().isTabletOrMobile,u=Object(h.useState)([]),d=Object(w.a)(u,2),f=d[0],b=d[1],j=Object(h.useRef)(null),m=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{sortBy:"library"};return[ce(n,e)].concat(Object(g.a)(r.reduce((function(e,r){return[].concat(Object(g.a)(e),[se(r,n)],Object(g.a)(de(t,r,i.sortBy).map((function(e){return ue(e,n)})).sort((function(e,t){return Object(ae.compareWith)(e,t,(function(e){return e[0].skill.name.toLowerCase()}))}))))}),[])))}(t,r,n,i),p=function(e){var t,r,n,i=e.index;return m[i][0].cell===q.cell?o?o({skill:m[i][0].skill}):null:m[i][0].cell===V.cell?f.includes(null===(t=m[i][0].library)||void 0===t?void 0:t.id)?function(e){var t,r=e.key;b((function(e){return e.filter((function(e){return e!==r}))})),null===(t=j.current)||void 0===t||t.recomputeGridSize()}({key:null===(r=m[i][0].library)||void 0===r?void 0:r.id}):function(e){var t,r=e.key;b((function(e){return[].concat(Object(g.a)(e),[r])})),null===(t=j.current)||void 0===t||t.recomputeGridSize()}({key:null===(n=m[i][0].library)||void 0===n?void 0:n.id}):null},O=function(e){var t=e.rowIndex;return m[t][0].cell===q.cell&&f.includes(m[t][0].skill.libraryContext.id)},y=function(e){var t=e.isScrolling,r=e.key,n=e.rowIndex,o=e.columnIndex,a=e.style,s=O({rowIndex:n});l&&0===n&&o===i.length-1&&l({index:o});var u=m[n][0].cell===V.cell&&f.includes(m[n][0].library.id);return s?null:Object(G.jsx)(C.Box,Object(x.a)(Object(x.a)(Object(x.a)({display:"flex",alignItems:"center",style:a,borderBottom:"2px solid ".concat(c.colors.grey[0]),borderRight:"2px solid ".concat(c.colors.grey[0]),onClick:function(){return p({index:n})}},v({index:n})),E({rowIndex:n,columnIndex:o})),{},{children:Object(G.jsx)(oe,Object(x.a)(Object(x.a)({},m[n][o]),{},{isScrolling:t,skillsAreShown:u}))}),r)},v=function(e){var t=e.index;return"library"===m[t][0].cell?{backgroundColor:c.colors.grey[0]}:{}},E=function(e){e.rowIndex,e.columnIndex;return{}},k=m[0].length,S=function(e){var t,r=e.index,n=O({rowIndex:r});switch(m[r][0].cell){case q.cell:return n?0:60*(null===(t=m[r][0].qualifiers)||void 0===t?void 0:t.length)||60;case _.cell:return 130;default:return 60}},F=function(e){return 0===e.index?450:250};return Object(G.jsx)(I.AutoSizer,{children:function(e){var t=e.width,n=e.height;return Object(G.jsx)(I.MultiGrid,{ref:j,matrix:m,cellRenderer:y,columnWidth:F,columnCount:k,rowCount:m.length,fixedColumnCount:s?0:1,fixedRowCount:1,height:n,rowHeight:S,width:t,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,styleTopRightGrid:{borderLeft:"2px solid #E6E6F5",display:(null===i||void 0===i?void 0:i.length)?"inherit":"none"},styleTopLeftGrid:{borderRight:"2px solid #E6E6F5"},styleBottomRightGrid:{borderLeft:(null===i||void 0===i?void 0:i.length)?"2px solid #E6E6F5":"none",transition:"height 1s"},styleBottomLeftGrid:{borderRight:"2px solid #E6E6F5",transition:"height 1s",display:(null===r||void 0===r?void 0:r.length)?"inherit":"none"},noContentRenderer:function(){return Object(G.jsx)(C.Line,{justifyContent:"center",children:Object(G.jsx)(C.Text,{children:Object(L.maj)(a("no_result"))})})}})}})},be=["qualifier"],je=function(e){var t=e.title,r=e.isLoading,n=e.pattern,i=e.matching,l=e.loadMore,o=e.onSkillClick,a=Object(C.useTranslate)({capitalize:!0}),c=Object(k.useGetLibrariesListQuery)(),s=c.data,u=c.loading,d=Object(h.useMemo)((function(){var e,t=null===s||void 0===s||null===(e=s.libraries)||void 0===e?void 0:e.nodes;if(t)return Object(E.getSortedLibraries)(t.map((function(e){return Object(k.getFormatedLibraryBasicFragment)(e)})))}),[s]),f=Object(h.useMemo)((function(){return"undefined"!==typeof i?i.map((function(e){return{user:e.resource,score:e.score,scoreByLib:e.scoreByLibrary,reasons:e.reasons}})):[]}),[i]);if(r||!n||!i)return Object(G.jsx)(C.Loader,{});if(0===f.length)return Object(G.jsxs)(C.Column,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:[Object(G.jsx)(C.Image,{as:S.a,maxWidth:600,maxHeight:600,mb:1}),Object(G.jsx)(C.Text,{color:"grey.5",fontSize:"big",fontWeight:"semiBold",children:a("no_matching")})]});n.should=(n.should||[]).filter((function(e){return e.skill})),n.must=(n.must||[]).filter((function(e){return e.skill}));var b=new Set([].concat(Object(g.a)(n.must.map((function(e){return e.skill.libraryContext.id}))),Object(g.a)(n.should.map((function(e){return e.skill.libraryContext.id}))))),j=n.must.concat(n.should).map((function(e){var t;return{skill:e.skill,qualifiers:null===(t=e.qualifiers)||void 0===t?void 0:t.filter((function(e){return e.value})).map((function(e){var t=e.qualifier,r=Object(v.a)(e,be);return Object(x.a)(Object(x.a)({},t),r)}))}}));return u?Object(G.jsx)(C.Loader,{}):Object(G.jsx)(fe,{title:t,criterias:j,libraries:(d||[]).filter((function(e){return b.has(e.id)})),resources:f,loadMore:l,onSkillClick:o})}},892:function(e,t,r){"use strict";r.d(t,"a",(function(){return W}));var n,i=r(17),l=r(53),o=r(0),a=r(14),c=r(63),s=r(767),u=r(872),d=r(285),f=r(1512),b=r(65),j=r(23),m=r(745),p=r(771),O=r(1),y=["skillOrLibraries","user","job"],x=function(e){var t=e.skillOrLibraries,r=e.user,n=e.job,l=Object(d.a)(e,y),s=Object(b.h)(),u=Object(o.useMemo)((function(){return[{key:"job",name:Object(j.maj)(n.name),isFillTransparent:!1,color:s.colors.secondary[2]},{key:"user",name:r.displayName,isFillTransparent:!1,color:s.colors.primary[2]}]}),[s,r,n]),x=Object(o.useMemo)((function(){return t.map((function(e){return{skillOrLibrary:JSON.stringify({name:"".concat(e.name),color:"".concat(e.color)}),user:e.userScore,job:e.jobScore}}))}),[t]);return Object(O.jsx)(a.Box,Object(i.a)(Object(i.a)({},l),{},{children:Object(O.jsx)(f.a,{children:Object(O.jsx)(p.b,{dataKey:"skillOrLibrary",dataMapping:u,data:x,legendElements:[{color:s.colors.secondary[2],title:n.name,leftElement:Object(O.jsx)(a.Icon,{as:m.a,size:16})},{color:s.colors.primary[2],title:r.displayName,leftElement:Object(O.jsx)(c.UserAvatar,{user:{displayName:r.displayName,givenName:r.givenName,familyName:r.familyName,avatarURL:r.avatarURL},size:"tiny"})}],isLegend:!1,axisScale:[0,125]})})}))},v=r(187),g=r(188),h=r(19),C=r(287),E=r(121),k=r(743),S=r(782),w=["title","titleId"];function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function L(e,t){var r=e.title,i=e.titleId,l=B(e,w);return o.createElement("svg",I({viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},l),r?o.createElement("title",{id:i},r):null,n||(n=o.createElement("path",{d:"M8.65926 0.115948L0.22151 6.56686C0.0528958 6.69334 -0.0314114 6.91118 0.0107422 7.11497L1.97791 17.5432C2.02709 17.8103 2.25893 18 2.53293 18H15.4671C15.734 18 15.9659 17.8103 16.0221 17.5432L17.9893 7.11497C18.0314 6.90416 17.9471 6.69334 17.7785 6.56686L9.34074 0.115948C9.137 -0.0386492 8.863 -0.0386492 8.65926 0.115948ZM14.09 7.69822L9.56556 4.24087V1.71111L16.3804 6.91821L14.09 7.69822ZM1.6196 6.91821L8.43444 1.71111V4.24087L3.91698 7.69822L1.62663 6.91821H1.6196ZM8.99649 10.6426L11.6873 13.7907H6.29866L8.98946 10.6426H8.99649ZM8.43444 5.66036V9.22311L5.20266 8.12688L8.43444 5.66036ZM7.86536 10.228L5.53989 12.9475L4.83031 9.20203L7.85834 10.228H7.86536ZM5.33615 14.9221H12.6568L14.3149 16.8616H3.67811L5.33615 14.9221ZM10.1346 10.228L13.1697 9.195L12.4601 12.9475L10.1346 10.221V10.228ZM9.56556 9.22311V5.66036L12.7973 8.12688L9.56556 9.22311ZM1.33156 8.02147L3.60082 8.78743L4.59143 14.0508L2.84909 16.0816L1.33156 8.02147ZM15.1439 16.0956L13.4015 14.0648L14.3992 8.79446L16.6684 8.0285L15.1439 16.1027V16.0956Z"})))}var F,_=o.forwardRef(L),M=(r.p,["title","titleId"]);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q(e,t){var r=e.title,n=e.titleId,i=T(e,M);return o.createElement("svg",V({viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),r?o.createElement("title",{id:n},r):null,F||(F=o.createElement("path",{d:"M17.3571 0.899902H0.642857C0.287277 0.899902 0 1.22896 0 1.63627V16.3635C0 16.7708 0.287277 17.0999 0.642857 17.0999H17.3571C17.7127 17.0999 18 16.7708 18 16.3635V1.63627C18 1.22896 17.7127 0.899902 17.3571 0.899902ZM16.5536 5.68627H12.2946V2.55672H16.5536V5.68627ZM16.5536 10.8408H12.2946V7.15899H16.5536V10.8408ZM6.99107 7.15899H11.0089V10.8408H6.99107V7.15899ZM11.0089 5.68627H6.99107V2.55672H11.0089V5.68627ZM1.44643 7.15899H5.70536V10.8408H1.44643V7.15899ZM1.44643 2.55672H5.70536V5.68627H1.44643V2.55672ZM1.44643 12.3135H5.70536V15.4431H1.44643V12.3135ZM6.99107 12.3135H11.0089V15.4431H6.99107V12.3135ZM16.5536 15.4431H12.2946V12.3135H16.5536V15.4431Z"})))}var A=o.forwardRef(q),D=(r.p,r(749)),G=r(10),z=r(839),R=r(840),P=["jobId","userId","onGoBack","displayMode","onChangeDisplayMode","onExport"],U=function(e){var t=e.jobId,r=e.userId,n=e.onGoBack,l=e.displayMode,c=e.onChangeDisplayMode,s=e.onExport,u=Object(d.a)(e,P),f=Object(a.useTranslate)({capitalize:!0}),b=Object(a.useResponsive)().isMobile,p=Object(a.useSwitch)(!1),y=p.active,x=p.on,v=p.off,g=Object(G.useAppContext)().user,C=Object(a.useSwitch)(!1),E=Object(z.c)(),k=Object(h.useGetJobNameQuery)({variables:{id:t}}),w=k.data,I=k.loading,B=Object(h.useGetUserJobPinQuery)({variables:{userId:r,jobId:t}}),L=B.data,F=B.refetch,M=Object(o.useMemo)((function(){var e=null===w||void 0===w?void 0:w.job;if(e)return{id:e.id,name:e.name}}),[w]),V=Object(o.useMemo)((function(){var e,t=null===L||void 0===L||null===(e=L.user)||void 0===e?void 0:e.pinnedJob;return null===t?null:"undefined"!==typeof t&&null!==t?t.status:void 0}),[L]),T=Object(o.useMemo)((function(){if("undefined"!==typeof V)return null!==V}),[V]),q=Object(o.useMemo)((function(){if(null===V){var e=g.id===r;return f(e?"add_to_my_career":"add_to_another_career")}if("undefined"!==typeof V)return f(V+"_job_title")}),[V,g,r]),U=Object(o.useMemo)((function(){var e,t=null===L||void 0===L||null===(e=L.user)||void 0===e?void 0:e.capabilities;return!!t&&!0===t.canPinJob}),[L]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(a.Box,Object(i.a)(Object(i.a)({},u),{},{children:[Object(O.jsxs)(a.Line,{py:1,width:"100%",justifyContent:"space-between",children:[Object(O.jsxs)(a.Line,{flexGrow:1,children:[Object(O.jsx)(a.IconButton,{iconAs:S.a,iconSize:14,onClick:function(){n()},mr:1}),!b&&Object(O.jsx)(a.Text,{fontSize:"large",fontWeight:"bold",mr:1,children:f("two_points",{phrase:f("matching_details")})}),Object(O.jsx)(a.Icon,{as:m.a,size:18,mr:1}),I||"undefined"===typeof M?Object(O.jsx)(a.LoaderSkeleton.Line,{width:100}):Object(O.jsx)(a.Text,{fontSize:"large",fontWeight:"bold",children:Object(j.maj)(M.name)})]}),Object(O.jsxs)(a.Line,{children:[Object(O.jsx)(a.IconButton,{iconAs:"radarChart"===l?A:_,iconSize:18,color:"grey.6",onClick:function(){c("radarChart"===l?"table":"radarChart")},mr:2}),"undefined"!==typeof q&&U&&Object(O.jsx)(a.Button,{onClick:function(){"undefined"!==typeof M&&E.openModal(M)},mr:2,children:q}),!b&&Object(O.jsxs)(a.MenuSelect.Target,{children:[Object(O.jsx)(a.IconButton,{iconAs:D.a,iconSize:18,color:"grey.6",onClick:function(){x()}}),Object(O.jsx)(a.MenuSelect,{onClose:v,isOpened:y,children:Object(O.jsx)(a.MenuOption,{onClick:function(){s&&s()},disabled:!0,children:f("export")})})]})]})]}),Object(O.jsx)(a.Separator,{width:"100%"})]})),Object(O.jsx)(z.b,{isUpdatingPinJob:T,isOpened:E.isOpened,job:E.jobToPin,onSuccess:function(){E.closeModal(),F()},onCancel:E.closeModal,onClickRemove:function(){E.closeModal(),C.on()}}),Object(O.jsx)(a.Modal,{isOpened:C.active,onClose:C.off,children:"undefined"!==typeof M&&Object(O.jsx)(R.a,{job:M,onCancel:C.off,onSuccess:function(){C.off(),F()}})})]})},H=r(832),N=r(851),J=["userId","jobId","handlePowerClick","onClickSkill"],Z=function(e){var t=e.userId,r=e.jobId,n=e.handlePowerClick,c=e.onClickSkill,s=Object(d.a)(e,J),u=Object(h.useGetJobDetailsQuery)({variables:{id:r,userId:t}}).data,f=Object(h.useGetSidebarUserProfileQuery)({variables:{id:t}}).data,b=Object(o.useState)(!0),j=Object(l.a)(b,2),m=j[0],p=j[1],y=Object(o.useMemo)((function(){var e=null===u||void 0===u?void 0:u.job;return e?{id:e.id,name:e.name}:void 0}),[u]),x=Object(o.useMemo)((function(){var e,t=null===u||void 0===u||null===(e=u.job)||void 0===e?void 0:e.pattern;if(t)return{must:Object(H.c)(t).must,should:Object(H.c)(t).should}}),[u]),g=Object(o.useMemo)((function(){var e,t=null===u||void 0===u||null===(e=u.job)||void 0===e?void 0:e.matching;if(t)return{reasons:t.reasons,score:Object(h.maybeToOptional)(t.score)||0,scoreByLibrary:t.scoreByLibrary.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(v.a)({},t.library.id,{scoreAbs:t.scoreAbs,refScore:t.refScore}))}),{})}}),[u]),C=Object(o.useMemo)((function(){var e=null===f||void 0===f?void 0:f.user;return e?Object(h.getFormatedUserBasicFragment)(e):void 0}),[f]),E=Object(o.useMemo)((function(){if("undefined"!==typeof g&&"undefined"!==typeof C)return[Object(i.a)(Object(i.a)({},g),{},{resource:C})];var e=Object(H.b)({result:g,pattern:x,userData:C}).data[0];return[{reasons:null===e||void 0===e?void 0:e.reasons,resource:null===e||void 0===e?void 0:e.resource,score:null===e||void 0===e?void 0:e.score,scoreByLibrary:null===e||void 0===e?void 0:e.scoreByLibrary}]}),[g,C,x]);Object(o.useEffect)((function(){x&&g&&C&&y&&p(!1)}),[x,g,C,y]);return Object(O.jsx)(a.Box,Object(i.a)(Object(i.a)({height:"100%"},s),{},{children:Object(O.jsx)(N.a,{title:y?y.name:"",isLoading:m,pattern:x,matching:E,onSkillClick:function(e){var r=e.skill.id,i=Object(H.a)({result:E,userId:t,skillId:r});n&&n(i,r),c&&c(r)}})}))},Q=r(842),W=function(e){var t=e.userId,r=e.jobId,n=e.onGoBack,d=Object(a.useResponsive)().isMobile?"table":"radarChart",f=Object(o.useState)(d),b=Object(l.a)(f,2),m=b[0],p=b[1],y=Object(o.useState)(),S=Object(l.a)(y,2),w=S[0],I=S[1],B=function(e){var t=e.userId,r=e.jobId,n=Object(k.a)().redirectToEntity404,l=Object(h.useGetUserJobMatchingDetailsQuery)({variables:{id:r,userId:t},onError:function(e){return n({entity:E.d.Job,error:e})}}),a=l.data,c=(l.loading,Object(h.useGetUserBasicInfosQuery)({variables:{id:t},onError:function(e){return n({entity:E.d.User,error:e})}}).data);return{user:Object(o.useMemo)((function(){var e=null===c||void 0===c?void 0:c.user;if(e)return Object(h.getFormatedUserBasicFragment)(e)}),[c]),job:Object(o.useMemo)((function(){var e=null===a||void 0===a?void 0:a.job;if(e)return{id:e.id,name:e.name}}),[a]),skillOrLibrariesWithScores:Object(o.useMemo)((function(){var e,t=null===a||void 0===a||null===(e=a.job)||void 0===e?void 0:e.matching;if(t){var r=t.scoreByLibrary.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(v.a)({},t.library.id,{id:t.library.id,name:t.library.name,logo:t.library.logo,color:t.library.color,userScore:t.scoreAbs,jobScore:t.refScore}))}),{}),n=t.scoreBySkill.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(v.a)({},t.skill.id,{id:t.skill.id,name:t.skill.name,logo:t.skill.logo,color:t.skill.color,userScore:t.scoreAbs,jobScore:t.refScore}))}),{});return Object(i.a)(Object(i.a)({},r),n)}}),[a]),librariesMatching:Object(o.useMemo)((function(){var e=null===a||void 0===a?void 0:a.job;if(e){var t=[],r={},n={},l={},o={};return e.matching.scoreBySkill.forEach((function(e){r=Object(i.a)(Object(i.a)({},r),{},Object(v.a)({},e.skill.libraryContext.id,[].concat(Object(g.a)(r[e.skill.libraryContext.id]||[]),[{skill:Object(h.getFormatedSkillBasicFragment)(e.skill),rank:e.rank}])));var t=e.skill.qualifiers.nodes.map((function(e){return Object(h.getFormatedQualifierBasicFragment)(e)}));l=Object(i.a)(Object(i.a)({},l),{},Object(v.a)({},e.skill.id,t));var n=e.qualifiers.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(v.a)({},t.qualifier.id,{requiredValue:t.refValue,userValue:t.userValue,comparator:t.refComparator,isMatch:t.rule===h.MatchingScoreQualifierRule.Match}))}),{});o=Object(i.a)(Object(i.a)({},o),{},Object(v.a)({},e.skill.id,n))})),e.matching.scoreByLibrary.forEach((function(e){t.push({library:Object(h.getFormatedLibraryBasicFragment)(e.library),skills:r[e.library.id].sort((function(e,t){return Object(j.sortByName)(e,t,(function(e){return e.skill.name}))}))}),n=Object(i.a)(Object(i.a)({},n),{},Object(v.a)({},e.library.id,e.scoreAbs))})),{libraries:Object(C.getSortedLibraries)(t,(function(e){return e.library})),librariesScores:n,qualifiers:l,qualifiersValues:o}}}),[a])}}({userId:t,jobId:r}),L=B.job,F=B.user,_=B.librariesMatching,M=B.skillOrLibrariesWithScores,V=Object(s.f)({userId:t}),T=V.isOpened,q=V.close,A=V.skillId,D=V.setSkillId,G=Object(o.useMemo)((function(){if("undefined"!==typeof M){if("skills"===(null===w||void 0===w?void 0:w.type))return w.skills.map((function(e){return Object(i.a)(Object(i.a)({},M[e]),{},{jobScore:100*M[e].jobScore,userScore:100*M[e].userScore})}));if("libraries"===(null===w||void 0===w?void 0:w.type))return w.libraries.map((function(e){return Object(i.a)(Object(i.a)({},M[e]),{},{jobScore:100*M[e].jobScore,userScore:100*M[e].userScore})}))}return[]}),[w,M]),z=function(e){D(e)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(a.Box,{width:"100%",height:"100%",children:[Object(O.jsx)(U,{displayMode:m,userId:t,jobId:r,onChangeDisplayMode:function(e){p(e)},onGoBack:n,onExport:function(){},px:1}),Object(O.jsx)(a.Box,{width:"100%",height:"calc(100% - 57px)",children:"radarChart"===m?Object(O.jsxs)(a.Line,{width:"100%",height:"100%",alignItems:"stretch",children:[Object(O.jsx)(a.Box,{display:"flex",justifyContent:"center",pt:3,flexGrow:1,children:"undefined"!==typeof F&&"undefined"!==typeof L&&"undefined"!==typeof _?Object(O.jsx)(x,{skillOrLibraries:G,user:F,job:L,width:"100%"}):Object(O.jsx)(a.Loader,{})}),"undefined"!==typeof _&&"undefined"!==typeof F?Object(O.jsx)(u.a,{librariesTree:_.libraries,onChange:I,width:400,value:w,onClickSkill:z,renderLibraryBottomElement:function(e){var t=e.libraryId;return"libraries"===e.displayMode&&"undefined"!==typeof M?Object(O.jsx)(c.CustomTargetProgressBar,{targetValue:M[t].jobScore,value:M[t].userScore,isScoreFullDisplay:!0,isTooltipDisplay:!1}):null},renderSkillContentElement:function(e){var t=e.skillId;return Object(O.jsx)(O.Fragment,{children:_.qualifiers[t].length>0&&Object(O.jsx)(a.Column,{alignItems:"flex-start",children:_.qualifiers[t].map((function(e){var r;return"undefined"!==typeof(null===(r=_.qualifiersValues[t])||void 0===r?void 0:r[e.id])?Object(O.jsx)(Q.a,{user:F,qualifier:e,comparator:_.qualifiersValues[t][e.id].comparator,requiredValue:_.qualifiersValues[t][e.id].requiredValue,userValue:_.qualifiersValues[t][e.id].userValue,isMatch:_.qualifiersValues[t][e.id].isMatch,isJobMatching:!0,mb:1},"qualifierComparator_".concat(e.id)):null}))})})}}):Object(O.jsx)(a.Loader,{})]}):Object(O.jsx)(Z,{userId:t,jobId:r,flex:1,onClickSkill:z})})]}),Object(O.jsx)(s.c,{isOpened:T,onClose:q,onChangeSkillId:D,userId:t,skillId:A,onPowerDeleted:function(){q()}},"UserSkillPanel_".concat(A,"_").concat(t))]})}}}]);