(this["webpackJsonp@elamp/main-app"]=this["webpackJsonp@elamp/main-app"]||[]).push([[39],{1571:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(0),r=a(15),o=a(14),l=a(3),i=a(855),s=a(187),c=a(53),d=a(188),u=a(17),b=a(65),f=a(37),j=a(414),p=a(19),m=a(45),g=a(10),h=a(756),v=a(1),O="staffing_dashboard",y=Object(f.localeMoment)().hour(12).startOf("hour").toISOString(),D=Object(f.localeMoment)().add(1,"year").hour(12).startOf("hour").toISOString(),x={isNeedTableModalOpen:!1,isUserTableModalOpen:!1,sorting:void 0,periodStartDate:y,periodEndDate:D,tableNeedDataFilters:void 0,tableUserDataFilters:void 0},S={lg:[{i:"total_colab_concerned",x:0,y:0,w:4,h:5,minW:4,minH:5},{i:"total_project_concerned",x:4,y:0,w:4,h:5,minW:4,minH:5},{i:"total_need_concerned",x:8,y:0,w:4,h:5,minW:4,minH:5},{i:"profiles_needed_vs_collaborators",x:0,y:5,w:12,h:16,minW:12,minH:16},{i:"resources_assignment_rate",x:0,y:21,w:12,h:16,minW:12,minH:16},{i:"project_needs_assignment_rate",x:0,y:37,w:12,h:16,minW:12,minH:16}]},M="staffing_dashboard_label",_=new Map([["resourcestotalmandays","".concat(M,"_resources_total_man_days")],["projectneedneededmanddays","".concat(M,"_project_need_needed_man_days")],["resourcesassignedmandays","".concat(M,"_resources_assigned_man_days")],["assignedtotal","".concat(M,"_assigned_total")],["externaltotal","".concat(M,"_external_total")]]),C=function(e,t){switch(t.type){case"setDates":return Object(u.a)(Object(u.a)({},e),{},{periodStartDate:t.periodStartDate,periodEndDate:t.periodEndDate});case"onClickUserElement":return Object(u.a)(Object(u.a)({},e),{},{tableUserDataFilters:t.tableUserDataFilters});case"onClickNeedElement":return Object(u.a)(Object(u.a)({},e),{},{tableNeedDataFilters:t.tableNeedDataFilters});case"onCloseTableModal":return Object(u.a)(Object(u.a)({},x),{},{periodStartDate:e.periodStartDate,periodEndDate:e.periodEndDate});case"openNeedTableModal":return Object(u.a)(Object(u.a)({},e),{},{isNeedTableModalOpen:!0});case"openUserTableModal":return Object(u.a)(Object(u.a)({},e),{},{isUserTableModalOpen:!0});case"setSorting":return Object(u.a)(Object(u.a)({},e),{},{sorting:t.sorting});case"reset":default:return x}},w=function(e,t){if("undefined"!==typeof e||"undefined"!==typeof t)return Array.from(new Set([].concat(Object(d.a)(e||[]),Object(d.a)(t||[]))))},N=function(e,t){if("undefined"!==typeof e||"undefined"!==typeof t)return Array.from(new Set([].concat(Object(d.a)(e||[]),Object(d.a)(t||[]))))},T=function(e){return{date:e.date,total:e.total}},F=function(e){return e.map((function(e){var t;return{user:Object(u.a)(Object(u.a)({},Object(p.getFormatedUserBasicFragment)(e.user)),{},{externalId:Object(p.maybeToOptional)(e.user.externalId),nextAvailability:Object(p.maybeToOptional)(e.user.nextAvailability),title:Object(p.maybeToOptional)(e.user.title),place:Object(p.maybeToOptional)(null===(t=e.user.place)||void 0===t?void 0:t.label),customFields:e.user.customFields,groups:(e.user.groups.nodes||[]).map((function(e){return{kind:"groupTag",id:e.id,name:e.name}})),managers:(e.user.managers.nodes||[]).map((function(e){return Object(p.getFormatedUserBasicFragment)(e)}))}),totalAssignedManDays:e.totalAssignedManDays,totalWorkingDays:e.totalWorkingDays,userAssignedManDaysByDate:e.userAssignedManDaysByDate.map((function(e){return T(e)})),userWorkingDaysByDate:e.userWorkingDaysByDate.map((function(e){return T(e)}))}}))},R=function(e){return e.map((function(e){var t=e.projectNeed,a=t.project;return{projectNeed:{id:t.id,name:t.name,startDate:t.startDate,endDate:t.endDate,customFields:t.customFields,resourceSearchPatternTags:t.resourceSearchPatternTags},project:{id:a.id,name:Object(p.maybeToOptional)(a.name),groups:(a.groups.nodes||[]).map((function(e){return{kind:"groupTag",id:e.id,name:e.name}})),managers:(a.managers.nodes||[]).map((function(e){return Object(p.getFormatedUserBasicFragment)(e)}))},totalManDaysNeeded:e.totalManDaysNeeded,totalManDaysInternal:e.totalManDaysInternal,totalManDaysExternal:e.totalManDaysExternal,projectNeedManDaysNeededByDate:e.projectNeedManDaysNeededByDate.map((function(e){return T(e)})),projectNeedManDaysInternalByDate:e.projectNeedManDaysInternalByDate.map((function(e){return T(e)})),projectNeedManDaysExternalByDate:e.projectNeedManDaysExternalByDate.map((function(e){return T(e)}))}}))},k=function(e,t){if("undefined"!==typeof e||"undefined"!==typeof t)return Array.from(new Set([].concat(Object(d.a)(e||[]),Object(d.a)(t||[]))))},L=function(e,t){return[{name:e("needs_of_my_projects"),filters:{staffingDashboardStats:{project:{managedBy:{inUsers:["me"]}}}}},{name:e("needs_of_my_entities_projects"),filters:{staffingDashboardStats:{project:{groups:{inValues:t}},user:{groups:{inValues:t}}}}}]},A=function(){var e,t,a,r,i,d,M,T,A,E,I,P,z,B,W,U,Y,K,J,H=Object(o.useTranslate)({capitalize:!0}),G=Object(b.h)(),V=Object(o.useResponsive)().isMobile,Q=Object(o.useAlert)(),q=Object(g.useAppContext)(),X=q.customFields,Z=q.getErrorMessage,$=q.setBreadCrumb,ee=q.user,te=q.userGroups,ae=q.userPreferences,ne=Object(h.D)().getItemsCountRendererLabel,re=Object(n.useMemo)((function(){return Object(m.c)(X.projectNeedFields)}),[X]),oe=Object(n.useMemo)((function(){return Object(m.c)(X.userFields)}),[X]),le=Object(g.useFilters)({category:g.UserSavedDataFiltersEnum.StaffingDashboardStats,defaultEntity:"staffingDashboardStats",defaultSelectedFilterName:H("needs_of_my_projects"),entities:["staffingDashboardStats"],defaultFilter:{staffingDashboardStats:{project:{managedBy:{inUsers:["me"]}}}},initialStandardFilters:L(H,te),mergeFilters:function(e,t){var a,n,r,o,l,i,s,c,d,b,f,j,p,m,g,h,v,O,y,D,x,S,M,_,C,T,F,R,L,A,E,I,P,z,B,W,U,Y,K;return{staffingDashboardStats:Object(u.a)(Object(u.a)({},e.staffingDashboardStats),{},{user:Object(u.a)(Object(u.a)({},null===(a=e.staffingDashboardStats)||void 0===a?void 0:a.user),{},{pinnedJobs:Object(u.a)(Object(u.a)({},null===(n=e.staffingDashboardStats)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.pinnedJobs),{},{withCurrentJobs:w(null===(o=e.staffingDashboardStats)||void 0===o||null===(l=o.user)||void 0===l||null===(i=l.pinnedJobs)||void 0===i?void 0:i.withCurrentJobs,null===(s=t.staffingDashboardStats)||void 0===s||null===(c=s.user)||void 0===c||null===(d=c.pinnedJobs)||void 0===d?void 0:d.withCurrentJobs)}),skills:Object(u.a)(Object(u.a)({},null===(b=e.staffingDashboardStats)||void 0===b||null===(f=b.user)||void 0===f?void 0:f.skills),{},{inSkills:k(null===(j=e.staffingDashboardStats)||void 0===j||null===(p=j.user)||void 0===p||null===(m=p.skills)||void 0===m?void 0:m.inSkills,null===(g=t.staffingDashboardStats)||void 0===g||null===(h=g.user)||void 0===h||null===(v=h.skills)||void 0===v?void 0:v.inSkills)})}),project:Object(u.a)(Object(u.a)({},null===(O=e.staffingDashboardStats)||void 0===O?void 0:O.project),{},{status:{inValues:N(null===(y=e.staffingDashboardStats)||void 0===y||null===(D=y.project)||void 0===D||null===(x=D.status)||void 0===x?void 0:x.inValues,null===(S=t.staffingDashboardStats)||void 0===S||null===(M=S.project)||void 0===M||null===(_=M.status)||void 0===_?void 0:_.inValues)}}),projectNeed:Object(u.a)(Object(u.a)({},null===(C=e.staffingDashboardStats)||void 0===C?void 0:C.projectNeed),{},{searchedPattern:Object(u.a)(Object(u.a)({},null===(T=e.staffingDashboardStats)||void 0===T||null===(F=T.projectNeed)||void 0===F?void 0:F.searchedPattern),{},{withJobs:w(null===(R=e.staffingDashboardStats)||void 0===R||null===(L=R.projectNeed)||void 0===L||null===(A=L.searchedPattern)||void 0===A?void 0:A.withJobs,null===(E=t.staffingDashboardStats)||void 0===E||null===(I=E.projectNeed)||void 0===I||null===(P=I.searchedPattern)||void 0===P?void 0:P.withJobs),withSkills:k(null===(z=e.staffingDashboardStats)||void 0===z||null===(B=z.projectNeed)||void 0===B||null===(W=B.searchedPattern)||void 0===W?void 0:W.withSkills,null===(U=t.staffingDashboardStats)||void 0===U||null===(Y=U.projectNeed)||void 0===Y||null===(K=Y.searchedPattern)||void 0===K?void 0:K.withSkills)})})})}},savedDataFilters:null===ae||void 0===ae?void 0:ae.savedDataFilters}),ie=le.createAdvancedFilter,se=le.dataFilters,ce=le.deleteAdvancedFilter,de=le.filterNameToDelete,ue=le.isDeletingAdvancedFilter,be=le.isOpenedDeleteConfirmModal,fe=le.localStorageLabel,je=le.locallyStoredFiltersOptions,pe=le.onCloseDeleteConfirmModal,me=le.openDeleteAdvancedFilterModal,ge=le.quickFilters,he=le.selectedFilter,ve=le.setQuickFilters,Oe=le.setSelectedFilter,ye=le.standardFilters,De=le.updateAdvancedFilter,xe=Object(n.useReducer)(C,Object(u.a)(Object(u.a)({},x),{},{periodStartDate:(null===je||void 0===je||null===(e=je.periodInput)||void 0===e?void 0:e.startDate)||y,periodEndDate:(null===je||void 0===je||null===(t=je.periodInput)||void 0===t?void 0:t.endDate)||D})),Se=Object(c.a)(xe,2),Me=Se[0],_e=Me.isNeedTableModalOpen,Ce=Me.isUserTableModalOpen,we=Me.periodStartDate,Ne=Me.periodEndDate,Te=Me.sorting,Fe=(Me.tableUserDataFilters,Me.tableNeedDataFilters,Se[1]),Re=Object(h.B)(),ke=Re.dataKey,Le=Re.onAreaChartClick,Ae=Re.onAreaChartElementClick,Ee=Re.resetAreaChartFilter,Ie=Re.xAxisLabel,Pe=Object(p.useGetStaffingDashboardStatsQuery)({variables:{startDate:we,endDate:Ne,dataFiltersUser:null===(a=se.staffingDashboardStats)||void 0===a?void 0:a.user,dataFiltersProject:null===(r=se.staffingDashboardStats)||void 0===r?void 0:r.project,dataFiltersProjectNeed:null===(i=se.staffingDashboardStats)||void 0===i?void 0:i.projectNeed},onError:function(e){return Q.error(Z(e))}}),ze=Pe.data,Be=Pe.loading,We=Object(p.useLazyPaginateGraphQLQuery)({query:p.GetStaffingDashboardUsersRowDocument,variables:{startDate:we,endDate:Ne,dataFiltersUser:null===(d=se.staffingDashboardStats)||void 0===d?void 0:d.user,sorting:Te},onError:function(e){return Q.error(Z(e))},pageSize:100,getConnections:function(e){return e.data.staffingDashboardUsersRow},getFetchMoreConnections:function(e){return e.staffingDashboardUsersRow}}),Ue=We.launchQuery,Ye=We.loadMore,Ke=We.nodes,Je=We.loading,He=We.totalCount,Ge=We.isLoadingMore,Ve=We.fetchMorePromise,Qe=Object(p.useLazyPaginateGraphQLQuery)({query:p.GetStaffingDashboardNeedsRowDocument,variables:{startDate:we,endDate:Ne,dataFiltersProject:null===(M=se.staffingDashboardStats)||void 0===M?void 0:M.project,dataFiltersProjectNeed:null===(T=se.staffingDashboardStats)||void 0===T?void 0:T.projectNeed,sorting:Te},pageSize:100,onError:function(e){return Q.error(Z(e))},getConnections:function(e){return e.data.staffingDashboardNeedsRow},getFetchMoreConnections:function(e){return e.staffingDashboardNeedsRow}}),qe=Qe.launchQuery,Xe=Qe.loadMore,Ze=Qe.nodes,$e=Qe.loading,et=Qe.totalCount,tt=Qe.isLoadingMore,at=Qe.fetchMorePromise,nt=Object(n.useMemo)((function(){return{lg:S.lg,version:Object(h.x)(S.lg)}}),[S]),rt=Object(n.useMemo)((function(){var e=null===ze||void 0===ze?void 0:ze.staffingStats.aggs;return e?{needsTotal:e.projectNeeds.total,projectsTotal:e.projects.total,usersTotal:e.users.total}:{needsTotal:0,projectsTotal:0,usersTotal:0}}),[ze]),ot=rt.needsTotal,lt=rt.projectsTotal,it=rt.usersTotal,st=Object(n.useMemo)((function(){var e=[],t=null===ze||void 0===ze?void 0:ze.staffingStats.aggs.projectNeeds.stats;return t&&t.forEach((function(t){return e.push(t.date)})),e}),[ze]),ct=Object(n.useMemo)((function(){var e=null===ze||void 0===ze?void 0:ze.staffingStats.aggs;return e&&st.length>0?st.map((function(t){var a=e.projectNeeds.stats.find((function(e){return e.date===t})),n=e.users.stats.find((function(e){return e.date===t}));return{name:Object(f.localeMoment)(t).format("MMM YY"),resourcesTotalManDays:n?n.workingManDays:0,projectNeedNeededMandDays:a?a.projectNeedsTotalrequiredManDays:0}})):[]}),[ze,st]),dt=Object(n.useMemo)((function(){var e=null===ze||void 0===ze?void 0:ze.staffingStats.aggs;return e&&st.length>0?st.map((function(t){var a=e.users.stats.find((function(e){return e.date===t}));return{name:Object(f.localeMoment)(t).format("MMM YY"),resourcesTotalManDays:a?a.workingManDays:0,resourcesAssignedManDays:a?a.usersAssignedManDays:0}})):[]}),[ze,st]),ut=Object(n.useMemo)((function(){var e=null===ze||void 0===ze?void 0:ze.staffingStats.aggs.projectNeeds.stats;return e&&st.length>0?st.map((function(t){var a=e.find((function(e){return e.date===t}));return{name:Object(f.localeMoment)(t).format("MMM YY"),projectNeedNeededMandDays:a?a.projectNeedsTotalrequiredManDays:0,assignedTotal:a?a.projectAssignmentManDaysInternalTotal+a.projectAssignmentManDaysExternalTotal:0,externalTotal:a?a.projectAssignmentManDaysExternalTotal:0}})):[]}),[ze,st]),bt=Object(n.useMemo)((function(){var e,t,a;return((null===(e=se.staffingDashboardStats)||void 0===e||null===(t=e.user)||void 0===t||null===(a=t.pinnedJobs)||void 0===a?void 0:a.withCurrentJobs)||[]).length>0}),[se]),ft=Object(n.useMemo)((function(){var e,t,a;return((null===(e=se.staffingDashboardStats)||void 0===e||null===(t=e.project)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.inValues)||[]).length>0}),[se]),jt=Object(n.useMemo)((function(){var e,t,a,n,r,o;return((null===(e=se.staffingDashboardStats)||void 0===e||null===(t=e.projectNeed)||void 0===t||null===(a=t.searchedPattern)||void 0===a?void 0:a.withSkills)||[]).length>0||((null===(n=se.staffingDashboardStats)||void 0===n||null===(r=n.user)||void 0===r||null===(o=r.skills)||void 0===o?void 0:o.inSkills)||[]).length>0}),[se]),pt=(A={},Object(s.a)(A,p.ProjectStatus.Past,"completed"),Object(s.a)(A,p.ProjectStatus.Ongoing,"confirmed"),Object(s.a)(A,p.ProjectStatus.Upcoming,"upcoming"),A),mt=Object(n.useMemo)((function(){return F(Ke)}),[Ke]),gt=Object(n.useMemo)((function(){return R(Ze)}),[Ze]);Object(n.useEffect)((function(){var e=[{type:"text",text:H(l.b.STAFFING_PROJECT_PLANNING.module),icon:l.b.STAFFING_PROJECT_PLANNING.icon,to:l.b.STAFFING_PROJECT_PLANNING.getRoute()},{type:"text",text:H(l.b.STAFFING_DASHBOARD.subModule)},{type:"text",text:H("staffing_main_dashboard")}];return $(V?[e[0]]:e),function(){$(void 0)}}),[V]),Object(n.useEffect)((function(){Object(j.setLocalStorage)({label:fe,value:{dataFilters:se,quickFilters:ge,selectedFilter:he,standardFilters:ye,periodInput:{startDate:we,endDate:Ne}}})}),[se,we,Ne,ge,he,ye]),Object(n.useEffect)((function(){"undefined"!==typeof ke&&"undefined"!==typeof Ie&&Fe({type:ke.toLowerCase().includes("need")||"externalTotal"===ke||"assignedTotal"===ke?"openNeedTableModal":"openUserTableModal"})}),[ke,Ie]),Object(n.useEffect)((function(){Ce?Ue():_e&&qe()}),[_e,Ce]);var ht=function(e){var t;ve({staffingDashboardStats:Object(u.a)(Object(u.a)({},ge.staffingDashboardStats),{},{project:Object(u.a)(Object(u.a)({},null===(t=ge.staffingDashboardStats)||void 0===t?void 0:t.project),{},{status:{inValues:e.length>0?e:void 0}})})})},vt=function(e){var t=e.sortBy,a=e.sortDirection;Fe({type:"setSorting",sorting:{field:t,order:null===a?void 0:a}})},Ot=function(){var e=[{dataKey:"MonthlyUsers.familyName",headerTitle:H("user",{smart_count:1}),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.SingleUserCell,{user:t.user,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"".concat(t.user.familyName," ").concat(t.user.givenName)}},{dataKey:"MonthlyUsers.title",headerTitle:H("user_title"),isSortable:!1,columnWidth:Object(m.b)("medium"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ShortTextCell,{text:t.user.title,size:"medium"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.user.title?"".concat(H(t.user.title)):"-"}},{dataKey:"MonthlyUsers.location",headerTitle:H("location"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ShortTextCell,{text:t.user.place,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.user.place?"".concat(H(t.user.place)):"-"}},{dataKey:"MonthlyUsers.groups",headerTitle:H("groups"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ObjectTagsCell,{tags:t.user.groups,size:"large",zIndexProps:G.zIndexes.MODAL})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsObjectTagCell)(t.user.groups)}},{dataKey:"MonthlyUsers.managers",headerTitle:H("managers"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.MultipleUsersCell,{users:t.user.managers,size:"large",zIndexProps:G.zIndexes.MODAL})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsUserCell)(t.user.managers)}},{dataKey:"MonthlyUsers.externalId",headerTitle:H("externalId"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ShortTextCell,{text:t.user.externalId,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.user.externalId?"".concat(H(t.user.externalId)):"-"}}];return oe.size>0&&oe.forEach((function(t){e.push({dataKey:"customFields.".concat(t._key),headerTitle:t.name,isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var a=e.node;return"undefined"!==typeof a.user.customFields&&Object.keys(a.user.customFields).includes(t._key)?Object(v.jsx)(g.CustomFieldCell,{field:t,customFields:a.user.customFields,value:a.user.customFields[t._key],size:"large"}):Object(v.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var a=e.node;return Object(g.xlsCustomFieldCell)({field:t,value:"undefined"!==typeof a.user.customFields&&t._key in a.user.customFields?a.user.customFields[t._key]:null,translate:H})}})})),e.push({dataKey:"next_availability",headerTitle:H("next_availability"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return t.user.nextAvailability?Object(v.jsx)(g.NextAvailabilityCell,{size:"large",date:t.user.nextAvailability}):Object(v.jsx)(g.ShortTextCell,{text:"-",size:"large"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsDateCell)(t.user.nextAvailability)}},{dataKey:"totalWorkingDays",headerTitle:H("total_working_days"),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.NumberDisplayCell,{number:t.totalWorkingDays,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsNumberCell)(t.totalWorkingDays)}},{dataKey:"totalAssignedManDays",headerTitle:H("total_assigned_man_days"),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.NumberDisplayCell,{number:t.totalAssignedManDays,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsNumberCell)(t.totalAssignedManDays)}}),st.forEach((function(t){e.push({dataKey:"userWorkingDaysByDate ".concat(Object(f.localeMoment)(t).format("MM/YY")),headerTitle:"".concat(Object(f.localeMoment)(t).format("MM/YY")," ").concat(H("working_days")),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var a=e.node.userWorkingDaysByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(v.jsx)(g.NumberDisplayCell,{number:a.total,size:"small"}):Object(v.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var a=e.node.userWorkingDaysByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(g.xlsNumberCell)(a.total):"-"}},{dataKey:"userAssignedManDaysByDate ".concat(Object(f.localeMoment)(t).format("MM/YY")),headerTitle:"".concat(Object(f.localeMoment)(t).format("MM/YY")," ").concat(H("assigned_working_days")),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var a=e.node.userAssignedManDaysByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(v.jsx)(g.NumberDisplayCell,{number:a.total,size:"small"}):Object(v.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var a=e.node.userAssignedManDaysByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(g.xlsNumberCell)(a.total):"-"}})})),e},yt=function(){var e=[{dataKey:"projectNeed.name",headerTitle:H("staffing_project_need_name"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ShortTextCell,{text:t.projectNeed.name,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.projectNeed.name?"".concat(H(t.projectNeed.name)):"-"}},{dataKey:"project.name",headerTitle:H("project_name"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ShortTextCell,{text:t.project.name,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.project.name?"".concat(H(t.project.name)):"-"}},{dataKey:"groups",headerTitle:H("groups"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ObjectTagsCell,{tags:t.project.groups,size:"large",zIndexProps:G.zIndexes.MODAL})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsObjectTagCell)(t.project.groups)}},{dataKey:"managers",headerTitle:H("managers"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.MultipleUsersCell,{users:t.project.managers,size:"large",zIndexProps:G.zIndexes.MODAL})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsUserCell)(t.project.managers)}},{dataKey:"search_profile",headerTitle:H("search_profile"),isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.ObjectTagsCell,{tags:t.projectNeed.resourceSearchPatternTags,size:"large",zIndexProps:G.zIndexes.MODAL})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsObjectTagCell)(t.projectNeed.resourceSearchPatternTags)}},{dataKey:"projectNeed.stardDate",headerTitle:H("startDate"),isSortable:!1,columnWidth:Object(m.b)("medium"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.DateCell,{date:t.projectNeed.startDate,size:"medium"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsDateCell)(t.projectNeed.startDate)}},{dataKey:"projectNeed.endDate",headerTitle:H("endDate"),isSortable:!1,columnWidth:Object(m.b)("medium"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.DateCell,{date:t.projectNeed.endDate,size:"medium"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsDateCell)(t.projectNeed.endDate)}}];return re.size>0&&re.forEach((function(t){e.push({dataKey:"customFields.".concat(t._key),headerTitle:t.name,isSortable:!1,columnWidth:Object(m.b)("large"),cellRenderer:function(e){var a=e.node;return"undefined"!==typeof a.projectNeed.customFields&&Object.keys(a.projectNeed.customFields).includes(t._key)?Object(v.jsx)(g.CustomFieldCell,{field:t,customFields:a.projectNeed.customFields,value:a.projectNeed.customFields[t._key],size:"large"}):Object(v.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var a=e.node;return Object(g.xlsCustomFieldCell)({field:t,value:"undefined"!==typeof a.projectNeed.customFields&&t._key in a.projectNeed.customFields?a.projectNeed.customFields[t._key]:null,translate:H})}})})),e.push({dataKey:"totalManDaysNeeded",headerTitle:H("man_days_needed"),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.NumberDisplayCell,{number:t.totalManDaysNeeded,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsNumberCell)(t.totalManDaysNeeded)}},{dataKey:"totalManDaysInternal",headerTitle:H("total_internal_man_days"),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.NumberDisplayCell,{number:t.totalManDaysInternal,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsNumberCell)(t.totalManDaysInternal)}},{dataKey:"totalManDaysExternal",headerTitle:H("total_external_man_days"),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var t=e.node;return Object(v.jsx)(g.NumberDisplayCell,{number:t.totalManDaysExternal,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(g.xlsNumberCell)(t.totalManDaysExternal)}}),st.forEach((function(t){e.push({dataKey:"projectNeedManDaysNeededByDate ".concat(Object(f.localeMoment)(t).format("MM/YY")),headerTitle:"".concat(Object(f.localeMoment)(t).format("MM/YY")," ").concat(H("man_days_needed")),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var a=e.node.projectNeedManDaysNeededByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(v.jsx)(g.NumberDisplayCell,{number:a.total,size:"small"}):Object(v.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var a=e.node.projectNeedManDaysNeededByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(g.xlsNumberCell)(a.total):"-"}},{dataKey:"projectNeedManDaysInternalByDate ".concat(Object(f.localeMoment)(t).format("MM/YY")),headerTitle:"".concat(Object(f.localeMoment)(t).format("MM/YY")," ").concat(H("total_internal_man_days")),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var a=e.node.projectNeedManDaysInternalByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(v.jsx)(g.NumberDisplayCell,{number:a.total,size:"small"}):Object(v.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var a=e.node.projectNeedManDaysInternalByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(g.xlsNumberCell)(a.total):"-"}},{dataKey:"projectNeedManDaysExternalByDate ".concat(Object(f.localeMoment)(t).format("MM/YY")),headerTitle:"".concat(Object(f.localeMoment)(t).format("MM/YY")," ").concat(H("total_external_man_days")),isSortable:!1,columnWidth:Object(m.b)("small"),cellRenderer:function(e){var a=e.node.projectNeedManDaysExternalByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(v.jsx)(g.NumberDisplayCell,{number:a.total,size:"small"}):Object(v.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var a=e.node.projectNeedManDaysExternalByDate.find((function(e){return e.date===t}));return"undefined"!==typeof a?Object(g.xlsNumberCell)(a.total):"-"}})})),e},Dt=Object(g.useExportTable)({worksheetName:"".concat(O,"_users_table_").concat(Object(f.localeMoment)().format("DD.MM.YYYY")),columns:Ot(),fetchRowsPromise:Ve,rowsMappingFn:function(e){return F(e.staffingDashboardUsersRow.nodes)},pageSize:100,totalRowCount:He}),xt=Object(c.a)(Dt,2),St=xt[0],Mt=xt[1],_t=Object(g.useExportTable)({worksheetName:"".concat(O,"_needs_table_").concat(Object(f.localeMoment)().format("DD.MM.YYYY")),columns:yt(),fetchRowsPromise:at,rowsMappingFn:function(e){return R(e.staffingDashboardNeedsRow.nodes)},pageSize:100,totalRowCount:et}),Ct=Object(c.a)(_t,2),wt=Ct[0],Nt=Ct[1],Tt=[{title:H("export"),onClick:function(){return Mt()},disabled:St}],Ft=[{title:H("export"),onClick:function(){return Nt()},disabled:wt}],Rt=function(){Fe({type:"onCloseTableModal"}),Ee()};return Object(v.jsxs)(g.PageLayout,{p:"0px",display:"flex",flexDirection:"column",children:[Object(v.jsx)(g.TableToolbox,{width:"100%",quickFilters:[{id:"periodPicker",title:"periodPicker",type:g.QuickFilterTypes.Period,isSelected:!1,startDate:we,endDate:Ne,onApplyFilter:function(e){"string"===typeof e.startDate&&"string"===typeof e.endDate&&Fe({type:"setDates",periodStartDate:e.startDate,periodEndDate:e.endDate})},onClearFilter:function(){}},{id:"skill",title:H("skills_title"),type:g.QuickFilterTypes.Skill,initialValue:null===(E=se.staffingDashboardStats)||void 0===E||null===(I=E.user)||void 0===I||null===(P=I.skills)||void 0===P?void 0:P.inSkills,isSelected:jt,onApplyFilter:function(e){var t,a,n,r,o,l;ve({staffingDashboardStats:Object(u.a)(Object(u.a)({},ge.staffingDashboardStats),{},{projectNeed:Object(u.a)(Object(u.a)({},null===(t=ge.staffingDashboardStats)||void 0===t?void 0:t.projectNeed),{},{searchedPattern:Object(u.a)(Object(u.a)({},null===(a=ge.staffingDashboardStats)||void 0===a||null===(n=a.projectNeed)||void 0===n?void 0:n.searchedPattern),{},{withSkills:e})}),user:Object(u.a)(Object(u.a)({},null===(r=ge.staffingDashboardStats)||void 0===r?void 0:r.user),{},{skills:Object(u.a)(Object(u.a)({},null===(o=ge.staffingDashboardStats)||void 0===o||null===(l=o.user)||void 0===l?void 0:l.skills),{},{inSkills:e})})})})},onClearFilter:function(){var e,t,a,n,r,o;ve({staffingDashboardStats:Object(u.a)(Object(u.a)({},ge.staffingDashboardStats),{},{projectNeed:Object(u.a)(Object(u.a)({},null===(e=ge.staffingDashboardStats)||void 0===e?void 0:e.projectNeed),{},{searchedPattern:Object(u.a)(Object(u.a)({},null===(t=ge.staffingDashboardStats)||void 0===t||null===(a=t.projectNeed)||void 0===a?void 0:a.searchedPattern),{},{withSkills:void 0})}),user:Object(u.a)(Object(u.a)({},null===(n=ge.staffingDashboardStats)||void 0===n?void 0:n.user),{},{skills:Object(u.a)(Object(u.a)({},null===(r=ge.staffingDashboardStats)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.skills),{},{inSkills:void 0})})})})}},{id:"jobs",title:H("jobs"),type:g.QuickFilterTypes.Job,isSelected:bt,preselectedJobs:(null===(z=se.staffingDashboardStats)||void 0===z||null===(B=z.projectNeed)||void 0===B||null===(W=B.searchedPattern)||void 0===W?void 0:W.withJobs)||[],onApplyFilter:function(e){var t,a,n,r;ve({staffingDashboardStats:Object(u.a)(Object(u.a)({},ge.staffingDashboardStats),{},{user:Object(u.a)(Object(u.a)({},null===(t=ge.staffingDashboardStats)||void 0===t?void 0:t.user),{},{pinnedJobs:{withCurrentJobs:e}}),projectNeed:Object(u.a)(Object(u.a)({},null===(a=ge.staffingDashboardStats)||void 0===a?void 0:a.projectNeed),{},{searchedPattern:Object(u.a)(Object(u.a)({},null===(n=ge.staffingDashboardStats)||void 0===n||null===(r=n.projectNeed)||void 0===r?void 0:r.searchedPattern),{},{withJobs:e})})})})},onClearFilter:function(){var e,t,a,n;ve({staffingDashboardStats:Object(u.a)(Object(u.a)({},ge.staffingDashboardStats),{},{user:Object(u.a)(Object(u.a)({},null===(e=ge.staffingDashboardStats)||void 0===e?void 0:e.user),{},{pinnedJobs:void 0}),projectNeed:Object(u.a)(Object(u.a)({},null===(t=ge.staffingDashboardStats)||void 0===t?void 0:t.projectNeed),{},{searchedPattern:Object(u.a)(Object(u.a)({},null===(a=ge.staffingDashboardStats)||void 0===a||null===(n=a.projectNeed)||void 0===n?void 0:n.searchedPattern),{},{withJobs:void 0})})})})}},{id:"status",title:H("quickfilter_label_project_status"),type:g.QuickFilterTypes.MultiSelect,isSelected:ft,elements:pt,value:(null===(U=se.staffingDashboardStats)||void 0===U||null===(Y=U.project)||void 0===Y||null===(K=Y.status)||void 0===K?void 0:K.inValues)||[],onApplyFilter:ht,onClearFilter:function(){ht([])}}],advancedFilters:{advancedFilters:(null===ae||void 0===ae||null===(J=ae.savedDataFilters)||void 0===J?void 0:J.staffingDashboardStats)||[],advancedFiltersSchema:[p.ProjectNeedDataFiltersSchema,Object(p.getDataFiltersSchemaWithCustomFields)(p.UserDataFiltersSchema,X.userFields)],onNewFilter:function(e){ie(Object(u.a)(Object(u.a)({},e),{},{filters:e.filters}))},onUpdateFilter:function(e){De(Object(u.a)(Object(u.a)({},e),{},{filters:e.filters}))},onDeleteFilter:function(e){me(e)},onSelectFilter:Oe,selectedFilter:he,standardFilters:ye},isLoading:Be,totalCount:ot,itemsCountRenderer:function(){return""},menuActions:[]}),Object(v.jsx)(o.Box,{position:"relative",width:"100%",height:"100%",overflowY:"auto",children:Object(v.jsxs)(h.o,{layouts:Object(h.y)({userId:ee.id,initialLayout:nt,dashboardLabel:O}),rowHeight:30,onLayoutChange:Object(h.A)({dashboardLabel:O,initialLayout:nt,userId:ee.id}),children:[Object(v.jsx)(h.a,{titleLabel:H("data_card_staffing_total_colab"),isDraggable:!1,isResizable:!1,isLoading:Be,elements:[{field:"user",label:H("users",it),labelFontWeight:"bold",value:"user",total:it,totalColor:G.colors.primary[3]}]},"total_colab_concerned"),Object(v.jsx)(h.a,{titleLabel:H("data_card_staffing_total_project_concerned"),isDraggable:!1,isResizable:!1,isLoading:Be,elements:[{field:"project",label:H("project",lt),labelFontWeight:"bold",value:"project",total:lt,totalColor:G.colors.primary[3]}]},"total_project_concerned"),Object(v.jsx)(h.a,{titleLabel:H("data_card_staffing_total_need_concerned"),isDraggable:!1,isResizable:!1,isLoading:Be,elements:[{field:"need",label:H("needs",ot),labelFontWeight:"bold",value:"need",total:ot,totalColor:G.colors.primary[3]}]},"total_need_concerned"),Object(v.jsx)(h.c,{titleLabel:H("data_card_staffing_searched_profile_vs_collab"),data:ct,isDraggable:!1,isResizable:!1,isLoading:Be,onChartClick:Le,onElementClick:Ae,wordingMap:_,initialColors:[G.colors.secondary[1],G.colors.primary[2]]},"profiles_needed_vs_collaborators"),Object(v.jsx)(h.c,{titleLabel:H("data_card_resource_assignment_rate"),data:dt,isDraggable:!1,isResizable:!1,isLoading:Be,onChartClick:Le,onElementClick:Ae,wordingMap:_,initialColors:[G.colors.secondary[1],G.colors.secondary[2]]},"resources_assignment_rate"),Object(v.jsx)(h.c,{titleLabel:H("data_card_project_needs_assignment_rate"),data:ut,isDraggable:!1,isResizable:!1,isLoading:Be,onChartClick:Le,onElementClick:Ae,wordingMap:_,initialColors:[G.colors.primary[1],G.colors.primary[2],G.colors.primary[3]]},"project_needs_assignment_rate")]})}),Object(v.jsx)(h.h,{isOpened:Ce,onClose:function(){Fe({type:"onCloseTableModal"})},onClosingComplete:Rt,columns:Ot(),onSort:vt,isLoading:Je,data:mt,isLoadingMore:Ge,TableToolboxMenuActions:Tt,loadMoreRows:Ye,totalCount:He,itemsCountRenderer:ne,itemsCountRendererLabel:"num_dashboard_table_resource"}),Object(v.jsx)(h.h,{isOpened:_e,onClose:function(){Fe({type:"onCloseTableModal"})},onClosingComplete:Rt,columns:yt(),onSort:vt,isLoading:$e,data:gt,isLoadingMore:tt,TableToolboxMenuActions:Ft,loadMoreRows:Xe,totalCount:et,itemsCountRenderer:ne,itemsCountRendererLabel:"num_dashboard_table_project_needs"}),Object(v.jsx)(g.DeleteAdvancedFilterConfirmModal,{filterName:de,isOpened:be,onConfirm:function(){ce()},onCancel:pe,isLoading:ue})]})},E=function(){var e=Object(o.useTranslate)({capitalize:!0});return Object(v.jsxs)(i.a,{sidebarOptions:[{label:e("staffing_dashboard"),to:l.b.STAFFING_DASHBOARD_DETAILS.getRoute()}],children:[Object(v.jsx)(r.Route,{exact:!0,path:l.b.STAFFING_DASHBOARD_DETAILS.path,render:function(){return Object(v.jsx)(A,{})}}),Object(v.jsx)(r.Redirect,{to:l.b.STAFFING_DASHBOARD_DETAILS.getRoute()})]})}},742:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(17),r=a(285),o=(a(0),a(14)),l=a(1),i=["children"],s=function(e){var t=e.children,a=Object(r.a)(e,i);return Object(l.jsx)(o.Box,Object(n.a)(Object(n.a)({boxSizing:"border-box",height:"100%",overflow:"hidden",width:"100%"},a),{},{children:t}))}},748:function(e,t,a){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}a.d(t,"a",(function(){return n}))},749:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,r,o,l=a(0),i=["title","titleId"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function d(e,t){var a=e.title,d=e.titleId,u=c(e,i);return l.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":d},u),a?l.createElement("title",{id:d},a):null,n||(n=l.createElement("circle",{cx:0,cy:500,r:128})),r||(r=l.createElement("circle",{cx:500,cy:500,r:128})),o||(o=l.createElement("circle",{cx:1e3,cy:500,r:128})))}var u=l.forwardRef(d);a.p},752:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=["title","titleId"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function i(e,t){var a=e.title,i=e.titleId,s=l(e,r);return n.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":i},s),a?n.createElement("title",{id:i},a):null,n.createElement("path",{d:"M444.144 230.551a40.004 40.004 0 0127.866 68.688L311.398 459.852h473.346a40.148 40.148 0 110 80.289H311.398L472.01 700.754a40.004 40.004 0 11-56.569 56.569L188.916 530.795a40.004 40.004 0 01-11.43-15.74 40.148 40.148 0 010-.002 40.004 40.004 0 01-1.156-3.32 40.148 40.148 0 01-.184-.559 40.004 40.004 0 01-.691-2.898 40.148 40.148 0 01-.023-.098 40.004 40.004 0 01-.112-.469 40.148 40.148 0 01-.105-.51 40.004 40.004 0 01-.283-2.064 40.004 40.004 0 01-.211-1.576 40.148 40.148 0 01-.034-.469 40.004 40.004 0 01-.043-1.074 40.004 40.004 0 01-.085-2.623 40.148 40.148 0 01.006-.12 40.004 40.004 0 01.019-.378 40.004 40.004 0 010-.012 40.004 40.004 0 01.002-.031 40.004 40.004 0 0114.436-29.762l226.42-226.42a40.004 40.004 0 0128.702-12.119z",style:{lineHeight:"normal",textIndent:0,textAlign:"start",textDecorationLine:"none",textDecorationStyle:"solid",textTransform:"none",blockProgression:"tb",whiteSpace:"normal",isolation:"auto",mixBlendMode:"normal",solidOpacity:1},fontWeight:400,fontFamily:"sans-serif",overflow:"visible",fillRule:"evenodd"}))}var s=n.forwardRef(i);a.p},764:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n,r=a(0),o=["title","titleId"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function s(e,t){var a=e.title,s=e.titleId,c=i(e,o);return r.createElement("svg",l({id:"Icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve",ref:t,"aria-labelledby":s},c),a?r.createElement("title",{id:s},a):null,n||(n=r.createElement("path",{d:"M20.5,10H14V3.5C14,3.2,13.8,3,13.5,3h-3C10.2,3,10,3.2,10,3.5V10H3.5C3.2,10,3,10.2,3,10.5v3C3,13.8,3.2,14,3.5,14H10v6.5 c0,0.3,0.2,0.5,0.5,0.5h3c0.3,0,0.5-0.2,0.5-0.5V14h6.5c0.3,0,0.5-0.2,0.5-0.5v-3C21,10.2,20.8,10,20.5,10z"})))}var c=r.forwardRef(s);a.p},773:function(e,t,a){"use strict";a.r(t),a.d(t,"getRoundedToTwoDecimalsOrZero",(function(){return n})),a.d(t,"getRoundedToOneDecimalOrZero",(function(){return r})),a.d(t,"getRoundedValueInPercent",(function(){return o}));var n=function(e){return"undefined"!==typeof e?Math.round(100*(e+Number.EPSILON))/100:0},r=function(e){return"undefined"!==typeof e?Math.round(10*(e+Number.EPSILON))/10:0},o=function(e,t){return void 0===t&&(t=0),Math.round(100*(e+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)}},783:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n,r=a(0),o=["title","titleId"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function s(e,t){var a=e.title,s=e.titleId,c=i(e,o);return r.createElement("svg",l({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},c),a?r.createElement("title",{id:s},a):null,n||(n=r.createElement("path",{d:"M24 7.75L20.5895 4.5L12 13L3.41053 4.5L-1.42062e-07 7.75L12 19.5L24 7.75Z"})))}var c=r.forwardRef(s);a.p},792:function(e,t,a){(function(a){var n,r,o;r=[],void 0===(o="function"===typeof(n=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,i=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var i=l.URL||l.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?o(s):r(s.href)?n(e,t,a):o(s,s.target="_blank")):(s.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(s.href)}),4e4),setTimeout((function(){o(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,l){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,l),a);else if(r(e))n(e,a,l);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){o(i)}))}}:function(e,t,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,a);var o="application/octet-stream"===e.type,i=/constructor/i.test(l.HTMLElement)||l.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&i)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},c.readAsDataURL(e)}else{var d=l.URL||l.webkitURL,u=d.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout((function(){d.revokeObjectURL(u)}),4e4)}});l.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,r):n)||(e.exports=o)}).call(this,a(47))},829:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(17),r=a(285),o=(a(0),a(15)),l=a(189),i=a(61),s=a(23),c=a(14),d=a(783),u=a(166),b=a(1),f=["sidebarOptions"],j=Object(i.default)(c.TextWithAutoTooltipOnEllipsis)((function(e){var t=e.theme;return{color:t.colors.grey[6],cursor:"pointer",fontSize:t.fontSizes.small,fontWeight:t.fontWeights.semiBold,":hover":{color:t.colors.primary[3]}}}),(function(e){var t=e.isActive,a=e.theme;return t?{color:a.colors.primary[3]}:{}})),p=Object(i.default)(c.Icon)((function(e){return{transform:e.isActive?"rotate(0deg)":"rotate(-90deg)",transition:"transform 0.2s ease"}})),m=Object(i.default)(c.MenuOption)((function(e){var t=e.theme;return{minHeight:"36px",height:"fit-content",width:"100%",display:"flex",justifyContent:"space-between",whiteSpace:"pre-wrap",fontSize:t.fontSizes.small,color:t.colors.black[3],fontWeight:t.fontWeights.semiBold,textAlign:"left",":first-child":{marginTop:t.space[1]},"& * > svg":{fill:t.colors.black[3]}}}),(function(e){var t=e.theme;return{":hover":{backgroundColor:t.colors.primary[1],color:t.colors.primary[3],"& * > svg":{fill:t.colors.primary[3]}}}}),(function(e){var t=e.theme;return e.isOptionActive?{backgroundColor:t.colors.primary[1],color:t.colors.primary[3],"& * > svg":{fill:t.colors.primary[3]}}:{}})),g={opened:{height:"fit-content",width:"100%",marginLeft:"25px"},closed:{height:"0%",width:"100%",marginLeft:"25px"}},h=function(e){var t=e.sidebarOptions,a=Object(r.a)(e,f),i=Object(o.useLocation)().pathname,h=Object(o.useHistory)();return Object(b.jsx)(c.Column,Object(n.a)(Object(n.a)({display:"flex",justifyContent:"flex-start",minWidth:"200px",maxWidth:"200px",height:"100%"},a),{},{children:t.map((function(e,t){var a=e.icon,n=e.label,r=e.subMenuItems,o=e.to,f=Object(u.a)(i,o)||(r||[]).some((function(e){return Object(u.a)(i,e.to)}));return Object(b.jsxs)(c.Column,{display:"flex",justifyContent:"flex-start",width:"100%",children:[Object(b.jsxs)(m,{as:c.Line,p:1,onClick:function(){h.push(o)},isOptionActive:f,width:"100%",children:[Object(b.jsxs)(c.Line,{children:["undefined"!==typeof a&&Object(b.jsx)(c.Icon,{as:a,size:16}),Object(s.maj)(n)]}),Object(b.jsx)(c.Box,{alignItems:"center",display:"flex",height:"100%",children:"undefined"!==typeof r&&r.length>0&&Object(b.jsx)(p,{as:d.a,isActive:f,size:10})})]}),"undefined"!==typeof r&&r.length>0&&f&&Object(b.jsx)(c.Column,{width:"100%",children:Object(b.jsx)(c.Box,{as:l.motion.div,variants:g,animate:f?"opened":"closed",children:r.map((function(e,t){var a=Object(u.a)(i,e.to);return Object(b.jsx)(c.Box,{onClick:function(){return h.push(e.to)},width:"100%",py:0,children:Object(b.jsx)(j,{isActive:a,fontSize:"small",rows:2,tooltipTitle:e.label,children:e.label})},"".concat(e.label,"_").concat(t))}))})})]},"".concat(n,"_").concat(t))}))}))}},855:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(17),r=a(285),o=(a(0),a(14)),l=a(829),i=a(742),s=a(1),c=["sidebarOptions"],d=function(e){var t=e.sidebarOptions,a=Object(r.a)(e,c);return Object(s.jsx)(i.a,Object(n.a)(Object(n.a)({},a),{},{children:Object(s.jsxs)(o.Line,{height:"100%",width:"100%",position:"relative",children:[Object(s.jsx)(l.a,{sidebarOptions:t}),Object(s.jsx)(o.Column,{pt:1,height:"100%",width:"100%",overflowY:"auto",children:a.children})]})}))}}}]);