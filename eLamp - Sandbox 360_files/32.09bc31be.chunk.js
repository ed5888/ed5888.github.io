(this["webpackJsonp@elamp/main-app"]=this["webpackJsonp@elamp/main-app"]||[]).push([[32],{1556:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var r,a=n(0),i=n(15),o=n(14),s=n(3),l=n(855),d=n(53),u=n(17),c=n(65),g=n(19),b=n(32),f=n(45),m=n(414),p=n(37),y=n(10),h=n(756),v=n(223),_=n(164);!function(e){e.Training="training",e.PinTrainingStatus="pinTrainingStatus",e.PinTrainingUpdatedAt="pinTrainingUpdatedAt",e.PinTrainingStartDate="pinTrainingStartDate",e.PinTrainingEndDate="pinTrainingEndDate"}(r||(r={}));var O,j,T=[b.DashboardAggregatorEnum.ByGender,b.DashboardAggregatorEnum.ByAgeGroup,b.DashboardAggregatorEnum.BySeniorityGroup],D=new Map([["by_gender_men",b.UserGendersFilterEnum.Men],["by_gender_women",b.UserGendersFilterEnum.Women],["by_gender_neutral",b.UserGendersFilterEnum.Neutral],["by_gender_na",b.UserGendersFilterEnum.Na],["by_seniority_more15",b.UserSeniorityGroupsFilterEnum.More15],["by_seniority_from10to14",b.UserSeniorityGroupsFilterEnum.From10To14],["by_seniority_from5to9",b.UserSeniorityGroupsFilterEnum.From5To9],["by_seniority_is4",b.UserSeniorityGroupsFilterEnum.Is4],["by_seniority_is3",b.UserSeniorityGroupsFilterEnum.Is3],["by_seniority_is2",b.UserSeniorityGroupsFilterEnum.Is2],["by_seniority_is1",b.UserSeniorityGroupsFilterEnum.Is1],["by_seniority_less1",b.UserSeniorityGroupsFilterEnum.Less1],["by_seniority_na",b.UserSeniorityGroupsFilterEnum.Na],["by_age_group_less20",b.UserAgeGroupsFilterEnum.Less20],["by_age_group_from20to24",b.UserAgeGroupsFilterEnum.From20To24],["by_age_group_from25to29",b.UserAgeGroupsFilterEnum.From25To29],["by_age_group_from30to34",b.UserAgeGroupsFilterEnum.From30To34],["by_age_group_from35to39",b.UserAgeGroupsFilterEnum.From35To39],["by_age_group_from40to44",b.UserAgeGroupsFilterEnum.From40To44],["by_age_group_from45to49",b.UserAgeGroupsFilterEnum.From45To49],["by_age_group_from50to54",b.UserAgeGroupsFilterEnum.From50To54],["by_age_group_from55to59",b.UserAgeGroupsFilterEnum.From55To59],["by_age_group_more60",b.UserAgeGroupsFilterEnum.More60],["by_age_group_na",b.UserAgeGroupsFilterEnum.Na]]),x=function(e){var t,n=e.data,r=e.key,a=0,i=Object(v.a)(n||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.key===r&&(a=o.total)}}catch(s){i.e(s)}finally{i.f()}return a},A="dashboard_label",S=function(e){var t={},n={};return Object.entries(e||{}).forEach((function(e){var r=Object(d.a)(e,2),a=r[0],i=r[1];"undefined"!==typeof i&&("user"===a?n[a]=i:t[a]=i)})),t=Object(_.getCleanInputObjectRecursive)(t),n=Object(_.getCleanInputObjectRecursive)(n),{trainingFilters:Object.entries(t).length>0?t:void 0,userFilters:Object.entries(n).length>0?n:void 0}},F=function(e,t){if(e){var n={};return e.byBudgetYear.forEach((function(e){if(e.budgetYear){var r=e.budgetYear;"NA"===r&&(n[r]=t("no_value")),n[r]=r}})),n}};!function(e){e.Total_trained="total_trained",e.Total_notTrained="total_nottrained",e.Total_absent="total_absent",e.Total_canceled="total_canceled",e.Total_validated="total_validated",e.Total_planned="total_planned",e.By_gender_men="by_gender_men",e.By_gender_women="by_gender_women",e.By_gender_neutral="by_gender_neutral",e.By_gender_NA="by_gender_na",e.By_seniority_more15="by_seniority_more15",e.By_seniority_from10to14="by_seniority_from10to14",e.By_seniority_from5to9="by_seniority_from5to9",e.By_seniority_is4="by_seniority_is4",e.By_seniority_is3="by_seniority_is3",e.By_seniority_is2="by_seniority_is2",e.By_seniority_is1="by_seniority_is1",e.By_seniority_less1="by_seniority_less1",e.By_seniority_NA="by_seniority_na",e.By_age_group_less20="by_age_group_less20",e.By_age_group_from20to24="by_age_group_from20to24",e.By_age_group_from25to29="by_age_group_from25to29",e.By_age_group_from30to34="by_age_group_from30to34",e.By_age_group_from35to39="by_age_group_from35to39",e.By_age_group_from40to44="by_age_group_from40to44",e.By_age_group_from45to49="by_age_group_from45to49",e.By_age_group_from50to54="by_age_group_from50to54",e.By_age_group_from55to59="by_age_group_from55to59",e.By_age_group_more60="by_age_group_more60",e.By_age_group_NA="by_age_group_na",e.By_entity="by_entity"}(O||(O={})),function(e){e.UserTrained="userTrained",e.UserNotTrained="userNotTrained",e.PinTrainingValidated="pinTrainingValidated",e.PinTrainingPending="pinTrainingPending",e.PinTrainingCanceled="pinTrainingCanceled",e.PinTrainingNoshow="pinTrainingNoshow"}(j||(j={}));var E=n(1),w="num_dashboard_table_collaborators",C=new Map([["trained","trained_collaborators"],["nottrained","not_trained_collaborators"]]),R=new Map([["trained","trained_collaborators"],["notTrained","not_trained_collaborators"]]),B="trainingDashboard_allAccess",M={lg:[{i:"total",x:0,y:0,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.ByGender,x:6,y:0,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.ByAgeGroup,x:0,y:8,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.BySeniorityGroup,x:6,y:8,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.ByEntity,x:0,y:16,w:12,h:16,minW:12,minH:16}]},L={currentDashboardField:void 0,isTableModalOpen:!1,sorting:{field:"NO_FIELD",order:void 0},tableDataFilters:void 0},G=function(e,t){switch(t.type){case"setCurrentDashboardField":return Object(u.a)(Object(u.a)({},e),{},{currentDashboardField:t.currentDashboardField});case"toggleIsTableModalOpen":return Object(u.a)(Object(u.a)({},e),{},{isTableModalOpen:!e.isTableModalOpen});case"onClickElement":return Object(u.a)(Object(u.a)({},e),{},{currentDashboardField:t.currentDashboardField,tableDataFilters:t.tableDataFilters});case"setSorting":return Object(u.a)(Object(u.a)({},e),{},{sorting:t.sorting});case"reset":return Object(u.a)({},L)}},I=function(e,t){var n=[{name:e("my_subalterns"),filters:{trainingTotalAccessDashboard:{user:{managedBy:["me"]}}}},{name:e("all_my_subalterns"),filters:{trainingTotalAccessDashboard:{user:{managedByWithHierarchy:["me"]}}}}];return t.length>0&&n.push({name:e("my_entities"),filters:{trainingTotalAccessDashboard:{user:{inGroups:t}}}}),n},k=function(){var e,t,n,r=Object(o.useTranslate)({capitalize:!0}),i=Object(o.useAlert)(),l=Object(c.h)(),v=Object(o.useResponsive)().isMobile,_=Object(h.D)().getItemsCountRendererLabel,j=Object(y.useAppContext)(),k=j.customFields,P=j.getErrorMessage,N=j.setBreadCrumb,U=j.user,z=j.usersManagedByMe,W=j.userGroups,K=j.userPreferences,Y=Object(a.useMemo)((function(){return{lg:M.lg,version:Object(h.x)(M.lg)}}),[M]),H=Object(a.useReducer)(G,L),V=Object(d.a)(H,2),q=V[0],Q=q.currentDashboardField,X=q.isTableModalOpen,Z=(q.sorting,q.tableDataFilters),J=V[1],$=Object(y.useFilters)({category:y.UserSavedDataFiltersEnum.DashboardTrainingGlobalAccess,defaultEntity:"trainingTotalAccessDashboard",entities:["trainingTotalAccessDashboard"],defaultFilter:z.length>0?{trainingTotalAccessDashboard:{user:{managedBy:["me"]}}}:{trainingTotalAccessDashboard:{user:{inGroups:W}}},defaultSelectedFilterName:z.length>0?r("my_subalterns"):r("my_entities"),initialStandardFilters:I(r,W),mergeFilters:function(e,t){var n,r;return"undefined"!==typeof(null===(n=t.trainingTotalAccessDashboard)||void 0===n||null===(r=n.pinTrainingBudgetYear)||void 0===r?void 0:r.inValues)?{trainingTotalAccessDashboard:Object(u.a)(Object(u.a)({},e.trainingTotalAccessDashboard),{},{pinTrainingBudgetYear:{inValues:t.trainingTotalAccessDashboard.pinTrainingBudgetYear.inValues}})}:e},savedDataFilters:null===K||void 0===K?void 0:K.savedDataFilters}),ee=$.createAdvancedFilter,te=$.dataFilters,ne=$.deleteAdvancedFilter,re=$.filterNameToDelete,ae=$.isDeletingAdvancedFilter,ie=$.isOpenedDeleteConfirmModal,oe=$.localStorageLabel,se=$.onCloseDeleteConfirmModal,le=$.openDeleteAdvancedFilterModal,de=$.quickFilters,ue=$.selectedFilter,ce=$.setSelectedFilter,ge=$.setQuickFilters,be=$.standardFilters,fe=$.updateAdvancedFilter;Object(a.useEffect)((function(){Object(m.setLocalStorage)({label:oe,value:{dataFilters:te,quickFilters:de,selectedFilter:ue,standardFilters:be}})}),[te,de,ue,be]);var me=Object(g.useGetTrainingStatsQuery)({variables:{populationDataFilters:S(te.trainingTotalAccessDashboard||{}).userFilters,trainingDataFilters:S(te.trainingTotalAccessDashboard||{}).trainingFilters},onError:function(e){return i.error(P(e))}}),pe=me.data,ye=me.loading,he=Object(g.useLazyPaginateGraphQLQuery)({query:g.GetTrainingDashboardTablesUsersDocument,variables:{dataFilters:Object(u.a)(Object(u.a)({},te.trainingTotalAccessDashboard||{}),Z)},pageSize:100,getConnections:function(e){return e.data.trainingDashboardUsersRow},getFetchMoreConnections:function(e){return e.trainingDashboardUsersRow},onError:function(e){return i.error(P(e))}}),ve=he.launchQuery,_e=he.loadMore,Oe=he.nodes,je=he.loading,Te=he.totalCount,De=he.isLoadingMore,xe=he.fetchMorePromise,Ae=function(e){var t,n,a=e.aggregator,i=e.isBySign,o=null===pe||void 0===pe?void 0:pe.trainingDashboardStats.users;return o&&(null===(t=o.trained)||void 0===t?void 0:t[a])&&(null===(n=o.notTrained)||void 0===n?void 0:n[a])?o.trained[a].map((function(e){var t=x({data:o.notTrained[a],key:e.key});return{name:r(e.label),trained:e.total,notTrained:i?-t:t}})):[]},Se=function(e){var t=null===e||void 0===e?void 0:e.nodes;return t?t.map((function(e){var t=e.user;return Object(u.a)(Object(u.a)({},Object(g.getFormatedUserBasicFragment)(t)),{},{gender:Object(g.maybeToOptional)(t.gender),birthday:t.birthday,entryDate:t.startDate,lastTrainingUpdatedAt:t.lastTrainingUpdatedAt,groups:(t.groups.nodes||[]).map((function(e){return{kind:"groupTag",id:e.id,name:e.name}})),managers:(t.managers.nodes||[]).map((function(e){return Object(g.getFormatedUserBasicFragment)(e)}))})})):[]},Fe=Object(a.useMemo)((function(){var e=null===pe||void 0===pe?void 0:pe.trainingDashboardStats.users;return e?e.total:0}),[pe]),Ee=Object(a.useMemo)((function(){var e,t,n,a=null===pe||void 0===pe||null===(e=pe.trainingDashboardStats)||void 0===e?void 0:e.facets;if(a)return F(a,r);var i={};return((null===(t=te.trainingTotalAccessDashboard)||void 0===t||null===(n=t.pinTrainingBudgetYear)||void 0===n?void 0:n.inValues)||[]).forEach((function(e){i[e]=e})),i}),[te,pe]),we=Object(a.useMemo)((function(){var e,t;return((null===(e=te.trainingTotalAccessDashboard)||void 0===e||null===(t=e.pinTrainingBudgetYear)||void 0===t?void 0:t.inValues)||[]).length>0}),[te]),Ce=Object(a.useMemo)((function(){var e=null===pe||void 0===pe?void 0:pe.trainingDashboardStats.users,t=0,n=0;return e&&(t=e.trained.total,n=e.notTrained.total),[{name:"trained",value:t},{name:"notTrained",value:n}]}),[pe]),Re=Object(a.useMemo)((function(){return Se({nodes:Oe})}),[Oe]),Be=function(){return[{dataKey:"familyName",headerTitle:r("user",{smart_count:1}),isSortable:!0,columnWidth:Object(f.b)("large"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.SingleUserCell,{isClickable:!0,linkTo:s.b.USER_PROFILE_DETAILS.getRoute({userId:t.id}),user:Object(g.getFormatedUserBasicFragment)(t),size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"".concat(t.familyName," ").concat(t.givenName)}},{dataKey:"groups",headerTitle:r("groups"),isSortable:!1,columnWidth:Object(f.b)("large"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.ObjectTagsCell,{tags:t.groups,zIndexProps:l.zIndexes.MODAL,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsObjectTagCell)(t.groups)}},{dataKey:"managers",headerTitle:r("managers"),isSortable:!1,columnWidth:Object(f.b)("large"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.MultipleUsersCell,{users:t.managers,zIndexProps:l.zIndexes.MODAL,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsUserCell)(t.managers)}},{dataKey:"gender",headerTitle:r("gender"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.ShortTextCell,{text:r("gender_label_".concat(t.gender)),size:"small"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.gender?"".concat(r(t.gender)):"-"}},{dataKey:"birthday",headerTitle:r("birthDate"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.DateCell,{date:t.birthday,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.birthday)}},{dataKey:"entry",headerTitle:r("employee_entry_date"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.DateCell,{date:t.entryDate,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.entryDate)}},{dataKey:"lastTrainingUpdatedAt",headerTitle:r("training_last_training_date_user"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.DateCell,{date:t.lastTrainingUpdatedAt,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.lastTrainingUpdatedAt)}}]};Object(a.useEffect)((function(){var e=[{type:"text",text:r(s.b.USER_TRAINING_MONITORING.module,8),icon:s.b.USER_TRAINING_MONITORING.icon,to:s.b.USER_TRAINING_MONITORING.getRoute({userId:U.id})},{type:"text",text:r(s.b.USER_TRAINING_DASHBOARDS.subModule)},{type:"text",text:r("training_total_access_dashboard")}];return N(v?[e[0]]:e),function(){N(void 0)}}),[v]),Object(a.useEffect)((function(){X||J({type:"reset"}),"string"===typeof Q&&X&&ve()}),[X]),Object(a.useEffect)((function(){"string"===typeof Q&&J({type:"toggleIsTableModalOpen"})}),[Q]),Object(a.useEffect)((function(){var e;(null===pe||void 0===pe||null===(e=pe.trainingDashboardStats)||void 0===e?void 0:e.users)&&T.forEach((function(e){return Object(h.w)({data:Ae({aggregator:e}),wordingMap:C,labelStart:A})}))}),[pe]);var Me=function(e){ge({trainingTotalAccessDashboard:Object(u.a)(Object(u.a)({},de.trainingTotalAccessDashboard),{},{pinTrainingBudgetYear:{inValues:e.length>0?e:void 0}})})},Le=Object(y.useExportTable)({worksheetName:"".concat(B,"_").concat(Q,"_").concat(Object(p.localeMoment)().format("DD.MM.YYYY")),columns:Be(),fetchRowsPromise:xe,rowsMappingFn:function(e){return Se(e.trainingDashboardUsersRow)},pageSize:100,totalRowCount:Te,fixedColumnCount:1}),Ge=Object(d.a)(Le,2),Ie=Ge[0],ke=Ge[1],Pe=[{title:r("export"),onClick:function(){return ke()},disabled:Ie}],Ne=function(e){var t=e.value,n=e.aggregator,r=e.field;return function(){var e=Object(u.a)(Object(u.a)({},Z),{},{userIsTrained:{equals:"trained"===t}});n===b.DashboardAggregatorEnum.ByGender?e=Object(u.a)(Object(u.a)({},e),{},{userGender:{equals:D.get(r)}}):n===b.DashboardAggregatorEnum.BySeniorityGroup?e=Object(u.a)(Object(u.a)({},e),{},{userSeniorityGroup:{equals:D.get(r)}}):n===b.DashboardAggregatorEnum.ByAgeGroup&&(e=Object(u.a)(Object(u.a)({},e),{},{userAgeGroup:{equals:D.get(r)}})),J({type:"onClickElement",currentDashboardField:r,tableDataFilters:e})}},Ue=Object(a.useMemo)((function(){return Ce.map((function(e){return{field:"trained"===e.name?O.Total_trained:O.Total_notTrained,label:r(R.get(e.name),e.value),onClickElement:Ne,value:e.name,total:e.value}}))}),[Ce]);return Object(E.jsxs)(y.PageLayout,{p:"0px",display:"flex",flexDirection:"column",children:[Object(E.jsx)(y.TableToolbox,{width:"100%",quickFilters:[{id:"status",title:r("budget_year"),type:y.QuickFilterTypes.MultiSelect,elements:Ee||{},value:(null===(e=te.trainingTotalAccessDashboard)||void 0===e||null===(t=e.pinTrainingBudgetYear)||void 0===t?void 0:t.inValues)||[],isSelected:we,onApplyFilter:Me,onClearFilter:function(){Me([])}}],isLoading:ye,totalCount:Fe,itemsCountRenderer:_(w),advancedFilters:{advancedFilters:(null===K||void 0===K||null===(n=K.savedDataFilters)||void 0===n?void 0:n.dashboardTrainingGlobalAccess)||[],advancedFiltersSchema:[g.TrainingTotalAccessDashboardSchema],subFieldsCustomFieldsSchema:{user:Object(g.getDataFiltersCustomFields)(k.userFields)||[]},onNewFilter:function(e){ee(Object(u.a)(Object(u.a)({},e),{},{filters:e.filters}))},onUpdateFilter:function(e){fe(Object(u.a)(Object(u.a)({},e),{},{filters:e.filters}))},onDeleteFilter:function(e){le(e)},onSelectFilter:ce,standardFilters:be,standardFiltersSchema:[g.TrainingTotalAccessDashboardSchema],selectedFilter:ue},menuActions:[]}),Object(E.jsxs)(o.Box,{position:"relative",width:"100%",height:"calc(100% - 60px)",overflowY:"auto",children:[Object(E.jsxs)(h.o,{layouts:Object(h.y)({userId:U.id,initialLayout:Y,dashboardLabel:B}),rowHeight:30,onLayoutChange:Object(h.A)({dashboardLabel:B,initialLayout:Y,userId:U.id}),children:[Object(E.jsx)(h.l,{data:Ce,titleLabel:r("dataCard_Training_GlobalAccess"),isDraggable:!1,isResizable:!1,isLoading:ye,leftElement:Object(E.jsx)(h.b,{elements:Ue}),legendLayout:"vertical",paddingAngle:0,isPercent:!0,wordingMap:C},"total"),Object(E.jsx)(h.v,{data:Ae({aggregator:b.DashboardAggregatorEnum.ByGender}),titleLabel:r("dataCard_Training_GlobalAccess_Gender"),isLoading:ye,onElementClick:function(e){var t=e.tooltipPayload[0].dataKey,n=e.name.toLowerCase();Ne({value:t,aggregator:b.DashboardAggregatorEnum.ByGender,field:"by_gender_".concat(n)})()},isDraggable:!1,isResizable:!1,isLegend:!0,wordingMap:C},b.DashboardAggregatorEnum.ByGender),Object(E.jsx)(h.s,{data:Ae({aggregator:b.DashboardAggregatorEnum.ByAgeGroup,isBySign:!0}),isLoading:ye,titleLabel:r("dataCard_Training_GlobalAccess_Age"),onElementClick:function(e){var t=e.tooltipPayload[0].dataKey,n=e.name.toLowerCase();Ne({value:t,aggregator:b.DashboardAggregatorEnum.ByAgeGroup,field:"by_age_group_".concat(n)})()},isDraggable:!1,isResizable:!1,isReferenceLine:!0,isYAxisLineVisible:!1,isLegend:!0,wordingMap:C},b.DashboardAggregatorEnum.ByAgeGroup),Object(E.jsx)(h.s,{data:Ae({aggregator:b.DashboardAggregatorEnum.BySeniorityGroup,isBySign:!0}),isLoading:ye,titleLabel:r("dataCard_Training_GlobalAccess_Seniority"),onElementClick:function(e){var t=e.tooltipPayload[0].dataKey,n=e.name.toLowerCase();Ne({value:t,aggregator:b.DashboardAggregatorEnum.BySeniorityGroup,field:"by_seniority_".concat(n)})()},isDraggable:!1,isResizable:!1,isYAxisLineVisible:!1,isLegend:!0,wordingMap:C},b.DashboardAggregatorEnum.BySeniorityGroup)]}),Object(E.jsx)(h.h,{isOpened:X,onClose:function(){return J({type:"toggleIsTableModalOpen"})},onSort:function(e){var t=e.sortBy,n=e.sortDirection;J({type:"setSorting",sorting:{field:t,order:null===n?void 0:n}})},columns:Be(),fixedColumnCount:1,isLoading:je,data:Re,isLoadingMore:De,TableToolboxMenuActions:Pe,loadMoreRows:_e,totalCount:Te,itemsCountRenderer:_,itemsCountRendererLabel:w})]}),Object(E.jsx)(y.DeleteAdvancedFilterConfirmModal,{filterName:re,isOpened:ie,onConfirm:function(){ne()},onCancel:se,isLoading:ae})]})},P=n(747),N="num_dashboard_table_pinTrainings",U="trainingDashboard_absenteeism",z={lg:[{i:"total",x:0,y:0,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.ByGender,x:6,y:0,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.ByAgeGroup,x:0,y:8,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.BySeniorityGroup,x:6,y:8,w:6,h:8,minW:6,minH:8},{i:b.DashboardAggregatorEnum.ByEntity,x:0,y:16,w:12,h:16,minW:12,minH:16}]},W={currentDashboardField:void 0,sorting:{field:"NO_FIELD",order:void 0},tableDataFilters:void 0,treemapStatusDataDisplay:j.PinTrainingValidated},K=new Map([["pending","dashboard_label_pending"],["validated","dashboard_label_validated"],["noshow","dashboard_label_noshow"],["canceled","dashboard_label_canceled"]]),Y=function(e,t){switch(t.type){case"setCurrentDashboardField":return Object(u.a)(Object(u.a)({},e),{},{currentDashboardField:t.currentDashboardField});case"onClickElement":return Object(u.a)(Object(u.a)({},e),{},{currentDashboardField:t.currentDashboardField,tableDataFilters:t.tableDataFilters});case"setSorting":return Object(u.a)(Object(u.a)({},e),{},{sorting:t.sorting});case"setTreemapStatusDataDisplay":return Object(u.a)(Object(u.a)({},e),{},{treemapStatusDataDisplay:t.treemapStatusDataDisplay});case"onCloseTableModal":return Object(u.a)(Object(u.a)({},W),{},{treemapStatusDataDisplay:e.treemapStatusDataDisplay});case"reset":return Object(u.a)({},W)}},H=function(e,t){var n=[{name:e("my_subalterns"),filters:{trainingAbsenteeismDashboard:{user:{managedBy:["me"]}}}},{name:e("all_my_subalterns"),filters:{trainingAbsenteeismDashboard:{user:{managedByWithHierarchy:["me"]}}}}];return t.length>0&&n.push({name:e("my_entities"),filters:{trainingAbsenteeismDashboard:{user:{inGroups:t}}}}),n},V=function(){var e,t,n,r=Object(o.useTranslate)({capitalize:!0}),i=Object(o.useAlert)(),l=Object(c.h)(),v=Object(o.useResponsive)().isMobile,_=Object(h.D)().getItemsCountRendererLabel,O=Object(y.useAppContext)(),j=O.customFields,w=O.getErrorMessage,C=O.setBreadCrumb,R=O.user,B=O.userGroups,M=O.userPreferences,L=O.usersManagedByMe,G=Object(o.useSwitch)(!1),I=G.active,k=G.on,V=G.off,q=Object(a.useMemo)((function(){return{lg:z.lg,version:Object(h.x)(z.lg)}}),[z]),Q=Object(a.useReducer)(Y,W),X=Object(d.a)(Q,2),Z=X[0],J=Z.currentDashboardField,$=(Z.sorting,Z.tableDataFilters),ee=(Z.treemapStatusDataDisplay,X[1]),te=Object(y.useFilters)({category:y.UserSavedDataFiltersEnum.DashboardTrainingAbsenteeism,defaultEntity:"trainingAbsenteeismDashboard",entities:["trainingAbsenteeismDashboard"],defaultFilter:L.length>0?{trainingAbsenteeismDashboard:{user:{managedBy:["me"]}}}:{trainingAbsenteeismDashboard:{user:{inGroups:B}}},defaultSelectedFilterName:L.length>0?r("my_subalterns"):r("my_entities"),initialStandardFilters:H(r,B),mergeFilters:function(e,t){var n,r;return"undefined"!==typeof(null===(n=t.trainingAbsenteeismDashboard)||void 0===n||null===(r=n.pinTrainingBudgetYear)||void 0===r?void 0:r.inValues)?{trainingAbsenteeismDashboard:Object(u.a)(Object(u.a)({},e.trainingAbsenteeismDashboard),{},{pinTrainingBudgetYear:{inValues:t.trainingAbsenteeismDashboard.pinTrainingBudgetYear.inValues}})}:e},savedDataFilters:null===M||void 0===M?void 0:M.savedDataFilters}),ne=te.createAdvancedFilter,re=te.dataFilters,ae=te.localStorageLabel,ie=te.deleteAdvancedFilter,oe=te.filterNameToDelete,se=te.isDeletingAdvancedFilter,le=te.isOpenedDeleteConfirmModal,de=te.onCloseDeleteConfirmModal,ue=te.openDeleteAdvancedFilterModal,ce=te.quickFilters,ge=te.selectedFilter,be=te.setQuickFilters,fe=te.setSelectedFilter,me=te.standardFilters,pe=te.updateAdvancedFilter;Object(a.useEffect)((function(){Object(m.setLocalStorage)({label:ae,value:{dataFilters:re,quickFilters:ce,selectedFilter:ge,standardFilters:me}})}),[re,ce,ge,me]);var ye=Object(a.useMemo)((function(){return Object(f.c)(j.pinnedTrainingFields)}),[j]),he=Object(g.useGetAbsenteeismTrainingStatsQuery)({variables:{populationDataFilters:S(re.trainingAbsenteeismDashboard||{}).userFilters,trainingDataFilters:S(re.trainingAbsenteeismDashboard||{}).trainingFilters},onError:function(e){return i.error(w(e))}}),ve=he.data,_e=he.loading,Oe=Object(g.useLazyPaginateGraphQLQuery)({query:g.GetTrainingDashboardPinTrainingsDocument,variables:{dataFilters:Object(u.a)(Object(u.a)({},re.trainingAbsenteeismDashboard||{}),$)},pageSize:100,getConnections:function(e){return e.data.trainingDashboardPinTrainingsRow},getFetchMoreConnections:function(e){return e.trainingDashboardPinTrainingsRow},onError:function(e){return i.error(w(e))}}),je=Oe.launchQuery,Te=Oe.loadMore,De=Oe.nodes,xe=Oe.loading,Ae=Oe.totalCount,Se=Oe.isLoadingMore,Fe=Oe.fetchMorePromise,Ee=function(e){var t=null===e||void 0===e?void 0:e.nodes;return t?t.map((function(e){var t,n,r,a=e.pinTraining.user;return{pinnedTraining:{id:e.pinTraining.id,status:e.pinTraining.status,name:e.pinTraining.training.name,customFields:e.pinTraining.customFields||{},budgetYear:null===(t=e.pinTraining.data)||void 0===t?void 0:t.budgetYear,startDate:null===(n=e.pinTraining.data)||void 0===n?void 0:n.startDate,endDate:null===(r=e.pinTraining.data)||void 0===r?void 0:r.endDate},user:Object(u.a)(Object(u.a)({},Object(g.getFormatedUserBasicFragment)(a)),{},{gender:Object(g.maybeToOptional)(a.gender),birthday:a.birthday,entryDate:a.startDate,groups:(a.groups.nodes||[]).map((function(e){return{kind:"groupTag",id:e.id,name:e.name}}))})}})):[]},we=function(e){var t,n,a,i,o,s,l=e.aggregator,d=e.isBySign,u=null===ve||void 0===ve||null===(t=ve.trainingDashboardStats)||void 0===t?void 0:t.pinTrainings;return u&&(null===(n=u.canceled)||void 0===n?void 0:n[l])&&(null===(a=u.pending)||void 0===a?void 0:a[l])&&(null===(i=u.refused)||void 0===i?void 0:i[l])&&(null===(o=u.validated)||void 0===o?void 0:o[l])&&(null===(s=u.noshow)||void 0===s?void 0:s[l])?(u.validated[l]||[]).map((function(e){var t=x({data:u.canceled[l],key:e.key}),n=x({data:u.noshow[l],key:e.key});return{name:r(e.label),validated:e.total,canceled:d?-t:t,pending:x({data:u.pending[l],key:e.key}),noshow:d?-n:n,refused:x({data:u.refused[l],key:e.key})}})):[]},Ce=Object(a.useMemo)((function(){var e,t=null===ve||void 0===ve||null===(e=ve.trainingDashboardStats)||void 0===e?void 0:e.pinTrainings,n=0,r=0,a=0,i=0,o=0;return t&&(n=t.validated.total,r=t.canceled.total,a=t.pending.total,i=t.refused.total,o=t.noshow.total),[{name:"validated",value:n},{name:"canceled",value:r},{name:"pending",value:a},{name:"noshow",value:o},{name:"refused",value:i}]}),[ve]),Re=Object(a.useMemo)((function(){return Ee({nodes:De})}),[De]),Be=Object(a.useMemo)((function(){var e,t=null===ve||void 0===ve||null===(e=ve.trainingDashboardStats)||void 0===e?void 0:e.pinTrainings,n=new Map([]);return t&&t.canceled.byEntity&&t.pending.byEntity&&t.validated.byEntity&&t.noshow.byEntity&&(t.canceled.byEntity.forEach((function(e){n.set(e.key,{id:e.key,label:e.label})})),t.pending.byEntity.forEach((function(e){n.set(e.key,{id:e.key,label:e.label})})),t.validated.byEntity.forEach((function(e){n.set(e.key,{id:e.key,label:e.label})})),t.noshow.byEntity.forEach((function(e){n.set(e.key,{id:e.key,label:e.label})}))),Array.from(n.values())}),[ve]),Me=Object(a.useMemo)((function(){var e,t=null===ve||void 0===ve||null===(e=ve.trainingDashboardStats)||void 0===e?void 0:e.pinTrainings;return t?t.total:0}),[ve]),Le=Object(a.useMemo)((function(){var e,t,n,a;if(null===ve||void 0===ve||null===(e=ve.trainingDashboardStats)||void 0===e?void 0:e.facets)return F(null===ve||void 0===ve||null===(a=ve.trainingDashboardStats)||void 0===a?void 0:a.facets,r);var i={};return((null===(t=re.trainingAbsenteeismDashboard)||void 0===t||null===(n=t.pinTrainingBudgetYear)||void 0===n?void 0:n.inValues)||[]).forEach((function(e){i[e]=e})),i}),[re,ve]),Ge=Object(a.useMemo)((function(){var e,t;return((null===(e=re.trainingAbsenteeismDashboard)||void 0===e||null===(t=e.pinTrainingBudgetYear)||void 0===t?void 0:t.inValues)||[]).length>0}),[re]),Ie=function(e){be({trainingAbsenteeismDashboard:Object(u.a)(Object(u.a)({},ce.trainingAbsenteeismDashboard),{},{pinTrainingBudgetYear:{inValues:e.length>0?e:void 0}})})};Object(a.useEffect)((function(){var e;(null===ve||void 0===ve||null===(e=ve.trainingDashboardStats)||void 0===e?void 0:e.pinTrainings)&&T.forEach((function(e){return Object(h.w)({data:we({aggregator:e}),wordingMap:K,labelStart:A})}))}),[ve]),Object(a.useEffect)((function(){var e=[{type:"text",text:r(s.b.USER_TRAINING_MONITORING.module,8),icon:s.b.USER_TRAINING_MONITORING.icon,to:s.b.USER_TRAINING_MONITORING.getRoute({userId:R.id})},{type:"text",text:r(s.b.USER_TRAINING_DASHBOARDS.subModule)},{type:"text",text:r("training_absenteeism_dashboard")}];return C(v?[e[0]]:e),function(){C(void 0)}}),[v]),Object(a.useEffect)((function(){"string"===typeof J&&k()}),[J]),Object(a.useEffect)((function(){I||ee({type:"onCloseTableModal"}),I&&je()}),[I]);var ke=function(){var e=[{dataKey:"pinnedTraining.name",headerTitle:r("name"),isSortable:!1,columnWidth:Object(f.b)("large"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.LongTextCell,{text:t.pinnedTraining.name,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.pinnedTraining.name?t.pinnedTraining.name:"-"}},{dataKey:"familyName",headerTitle:r("user",{smart_count:1}),isSortable:!0,columnWidth:Object(f.b)("large"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.SingleUserCell,{isClickable:!0,linkTo:s.b.USER_PROFILE_DETAILS.getRoute({userId:t.user.id}),user:Object(g.getFormatedUserBasicFragment)(t.user),size:"large"})},xlsCellRenderer:function(e){var t=e.node;return"".concat(t.user.familyName," ").concat(t.user.givenName)}},{dataKey:"status",headerTitle:r("status"),isSortable:!1,columnWidth:Object(f.b)("medium"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.GenericStatusCell,{statusObject:Object(f.g)(P.a,t.pinnedTraining.status),size:"medium"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.pinnedTraining.status&&"string"===typeof Object(f.g)(P.a,t.pinnedTraining.status).labelKey?r(Object(f.g)(P.a,t.pinnedTraining.status).labelKey):"-"}},{dataKey:"groups",headerTitle:r("groups"),isSortable:!1,columnWidth:Object(f.b)("large"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.ObjectTagsCell,{tags:t.user.groups,zIndexProps:l.zIndexes.MODAL,size:"large"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsObjectTagCell)(t.user.groups)}},{dataKey:"gender",headerTitle:r("training_gender_user"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.ShortTextCell,{text:t.user.gender,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return"string"===typeof t.user.gender?"".concat(r(t.user.gender)):"-"}},{dataKey:"birthday",headerTitle:r("training_birthday_user"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.DateCell,{date:t.user.birthday,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.user.birthday)}},{dataKey:"entry",headerTitle:r("training_entry_user"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.DateCell,{date:t.user.entryDate,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.user.entryDate)}}];return ye.size>0&&ye.forEach((function(t){e.push({dataKey:"customFields.".concat(t._key),headerTitle:t.name,isSortable:!1,columnWidth:Object(f.b)("large"),cellRenderer:function(e){var n=e.node;return Object.keys(n.pinnedTraining.customFields).includes(t._key)?Object(E.jsx)(y.CustomFieldCell,{field:t,customFields:n.pinnedTraining.customFields,value:n.pinnedTraining.customFields[t._key],size:"large"}):Object(E.jsx)(o.Line,{width:"100%",height:"100%",bg:"grey.0"})},xlsCellRenderer:function(e){var n=e.node;return Object(y.xlsCustomFieldCell)({field:t,value:t._key in(n.pinnedTraining.customFields||{})?n.pinnedTraining.customFields[t._key]:null,translate:r})}})})),e.push({dataKey:"startDate",headerTitle:r("start_date"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.DateCell,{date:t.pinnedTraining.startDate,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.pinnedTraining.startDate)}},{dataKey:"endDate",headerTitle:r("end_date"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.DateCell,{date:t.pinnedTraining.endDate,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.pinnedTraining.endDate)}},{dataKey:"budgetYear",headerTitle:r("budget_year"),isSortable:!1,columnWidth:Object(f.b)("small"),cellRenderer:function(e){var t=e.node;return Object(E.jsx)(y.ShortTextCell,{text:t.pinnedTraining.budgetYear,size:"small"})},xlsCellRenderer:function(e){var t=e.node;return Object(y.xlsDateCell)(t.pinnedTraining.endDate)}}),e},Pe=Object(y.useExportTable)({worksheetName:"".concat(U,"_").concat(J,"_").concat(Object(p.localeMoment)().format("DD.MM.YYYY")),columns:ke(),fetchRowsPromise:Fe,rowsMappingFn:function(e){return Ee(e.trainingDashboardPinTrainingsRow)},pageSize:100,totalRowCount:Ae,fixedColumnCount:2}),Ne=Object(d.a)(Pe,2),Ue=Ne[0],ze=Ne[1],We=[{title:r("export"),onClick:function(){return ze()},disabled:Ue}],Ke=function(e){var t=e.value,n=e.aggregator,r=e.field,a=e.entityName;return function(){var e=Object(u.a)(Object(u.a)({},$),{},{pinTrainingStatus:"undefined"!==typeof t?{equals:t}:void 0});if(n===b.DashboardAggregatorEnum.ByGender)e=Object(u.a)(Object(u.a)({},e),{},{userGender:{equals:D.get(r)}});else if(n===b.DashboardAggregatorEnum.BySeniorityGroup)e=Object(u.a)(Object(u.a)({},e),{},{userSeniorityGroup:{equals:D.get(r)}});else if(n===b.DashboardAggregatorEnum.ByAgeGroup)e=Object(u.a)(Object(u.a)({},e),{},{userAgeGroup:{equals:D.get(r)}});else if(n===b.DashboardAggregatorEnum.ByEntity){var i,o=null===(i=Be.find((function(e){return e.label===a})))||void 0===i?void 0:i.id;e=Object(u.a)(Object(u.a)({},e),{},{userEntity:"string"===typeof o?{inValues:[o]}:void 0})}ee({type:"onClickElement",currentDashboardField:r,tableDataFilters:e})}},Ye=Object(a.useMemo)((function(){return Ce.map((function(e){return{field:"total_".concat(e.name),label:r("".concat(A,"_").concat(e.name)),onClickElement:Ke,value:e.name,total:e.value}}))}),[Ce]);return Object(E.jsxs)(y.PageLayout,{p:"0px",display:"flex",flexDirection:"column",children:[Object(E.jsx)(y.TableToolbox,{width:"100%",quickFilters:[{id:"status",title:r("budget_year"),type:y.QuickFilterTypes.MultiSelect,elements:Le||{},value:(null===(e=re.trainingAbsenteeismDashboard)||void 0===e||null===(t=e.pinTrainingBudgetYear)||void 0===t?void 0:t.inValues)||[],isSelected:Ge,onApplyFilter:Ie,onClearFilter:function(){Ie([])}}],isLoading:_e,totalCount:Me,itemsCountRenderer:_(N),advancedFilters:{advancedFilters:(null===M||void 0===M||null===(n=M.savedDataFilters)||void 0===n?void 0:n.dashboardTrainingAbsenteeism)||[],advancedFiltersSchema:[g.TrainingAbsenteeismDashboardSchema],subFieldsCustomFieldsSchema:{user:Object(g.getDataFiltersCustomFields)(j.userFields)||[]},onNewFilter:function(e){ne(Object(u.a)(Object(u.a)({},e),{},{filters:e.filters}))},onUpdateFilter:function(e){pe(Object(u.a)(Object(u.a)({},e),{},{filters:e.filters}))},onDeleteFilter:function(e){ue(e)},onSelectFilter:fe,standardFilters:me,standardFiltersSchema:[g.TrainingAbsenteeismDashboardSchema],selectedFilter:ge},menuActions:[]}),Object(E.jsx)(o.Box,{position:"relative",width:"100%",height:"calc(100% - 60px)",overflowY:"auto",children:Object(E.jsxs)(h.o,{layouts:Object(h.y)({userId:R.id,initialLayout:q,dashboardLabel:U}),rowHeight:30,onLayoutChange:Object(h.A)({dashboardLabel:U,initialLayout:q,userId:R.id}),children:[Object(E.jsx)(h.l,{data:Ce,titleLabel:r("dataCard_Training_absenteeism_Global"),isLoading:_e,isDraggable:!1,isResizable:!1,leftElement:Object(E.jsx)(h.b,{elements:Ye}),paddingAngle:0,isPercent:!0,wordingMap:K},"total"),Object(E.jsx)(h.v,{data:we({aggregator:b.DashboardAggregatorEnum.ByGender}),titleLabel:r("dataCard_Training_absenteeism_Gender"),onElementClick:function(e){var t=e.tooltipPayload[0].dataKey,n=e.name.toLowerCase();Ke({value:t,aggregator:b.DashboardAggregatorEnum.ByGender,field:"by_gender_".concat(n)})()},isLoading:_e,isDraggable:!1,isResizable:!1,isLegend:!0,wordingMap:K},b.DashboardAggregatorEnum.ByGender),Object(E.jsx)(h.v,{data:we({aggregator:b.DashboardAggregatorEnum.ByAgeGroup}),titleLabel:r("dataCard_Training_absenteeism_Age"),onElementClick:function(e){var t=e.tooltipPayload[0].dataKey,n=e.name.toLowerCase();Ke({value:t,aggregator:b.DashboardAggregatorEnum.ByAgeGroup,field:"by_age_group_".concat(n)})()},isLoading:_e,isDraggable:!1,isResizable:!1,isLegend:!0,wordingMap:K},b.DashboardAggregatorEnum.ByAgeGroup),Object(E.jsx)(h.v,{data:we({aggregator:b.DashboardAggregatorEnum.BySeniorityGroup}),titleLabel:r("dataCard_Training_absenteeism_Seniority"),onElementClick:function(e){var t=e.tooltipPayload[0].dataKey,n=e.name.toLowerCase();Ke({value:t,aggregator:b.DashboardAggregatorEnum.BySeniorityGroup,field:"by_seniority_".concat(n)})()},isLoading:_e,isDraggable:!1,isResizable:!1,isLegend:!0,wordingMap:K},b.DashboardAggregatorEnum.BySeniorityGroup)]})}),Object(E.jsx)(h.h,{isOpened:I,onClose:V,onSort:function(e){var t=e.sortBy,n=e.sortDirection;ee({type:"setSorting",sorting:{field:t,order:null===n?void 0:n}})},columns:ke(),fixedColumnCount:2,isLoading:xe,data:Re,isLoadingMore:Se,TableToolboxMenuActions:We,loadMoreRows:Te,totalCount:Ae,itemsCountRenderer:_,itemsCountRendererLabel:N}),Object(E.jsx)(y.DeleteAdvancedFilterConfirmModal,{filterName:oe,isOpened:le,onConfirm:function(){ie()},onCancel:de,isLoading:se})]})},q=function(){var e=Object(o.useTranslate)({capitalize:!0});return Object(E.jsxs)(l.a,{sidebarOptions:[{label:e("training_total_access_dashboard"),to:s.b.USER_TRAINING_DASHBOARDS_TOTAL_ACCESS.getRoute()},{label:e("training_absenteeism_dashboard"),to:s.b.USER_TRAINING_DASHBOARDS_ABSENTEEISM.getRoute()}],children:[Object(E.jsx)(i.Route,{exact:!0,path:s.b.USER_TRAINING_DASHBOARDS_TOTAL_ACCESS.path,render:function(){return Object(E.jsx)(k,{})}}),Object(E.jsx)(i.Route,{exact:!0,path:s.b.USER_TRAINING_DASHBOARDS_ABSENTEEISM.path,render:function(){return Object(E.jsx)(V,{})}}),Object(E.jsx)(i.Redirect,{to:s.b.USER_TRAINING_DASHBOARDS_TOTAL_ACCESS.getRoute()})]})}},742:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(17),a=n(285),i=(n(0),n(14)),o=n(1),s=["children"],l=function(e){var t=e.children,n=Object(a.a)(e,s);return Object(o.jsx)(i.Box,Object(r.a)(Object(r.a)({boxSizing:"border-box",height:"100%",overflow:"hidden",width:"100%"},n),{},{children:t}))}},747:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));new Map([["theme","theme_not_interesting"],["skills","skills_not_interesting"],["over_qualified","over_qualified"],["under_qualified","under_qualified"]]);var r=n(32),a=new Map([[r.PinTrainingStatus.Suggested,"training_status_suggested"],[r.PinTrainingStatus.Approved,"training_status_approved"],[r.PinTrainingStatus.Accepted,"training_status_accepted"],[r.PinTrainingStatus.Pending,"training_status_pending"],[r.PinTrainingStatus.Validated,"training_status_validated"],[r.PinTrainingStatus.Refused,"training_status_refused"],[r.PinTrainingStatus.Noshow,"training_status_noshow"],[r.PinTrainingStatus.Canceled,"training_status_canceled"]]),i=(new Map([[r.PinTrainingStatus.Suggested,"grey.1"],[r.PinTrainingStatus.Approved,"secondary.0"],[r.PinTrainingStatus.Accepted,"secondary.0"],[r.PinTrainingStatus.Pending,"secondary.0"],[r.PinTrainingStatus.Validated,"success.0"],[r.PinTrainingStatus.Refused,"error.0"],[r.PinTrainingStatus.Noshow,"error.0"],[r.PinTrainingStatus.Canceled,"error.0"]]),new Map([[r.PinTrainingStatus.Suggested,{labelKey:"training_status_suggested",color:"grey.1"}],[r.PinTrainingStatus.Approved,{labelKey:"training_status_approved",color:"secondary.0"}],[r.PinTrainingStatus.Accepted,{labelKey:"training_status_accepted",color:"secondary.0"}],[r.PinTrainingStatus.Pending,{labelKey:"training_status_pending",color:"secondary.0"}],[r.PinTrainingStatus.Validated,{labelKey:"training_status_validated",color:"success.0"}],[r.PinTrainingStatus.Refused,{labelKey:"training_status_refused",color:"error.0"}],[r.PinTrainingStatus.Noshow,{labelKey:"training_status_noshow",color:"error.0"}],[r.PinTrainingStatus.Canceled,{labelKey:"training_status_canceled",color:"error.0"}]]))},748:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},749:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,a,i,o=n(0),s=["title","titleId"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){var n=e.title,u=e.titleId,c=d(e,s);return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":u},c),n?o.createElement("title",{id:u},n):null,r||(r=o.createElement("circle",{cx:0,cy:500,r:128})),a||(a=o.createElement("circle",{cx:500,cy:500,r:128})),i||(i=o.createElement("circle",{cx:1e3,cy:500,r:128})))}var c=o.forwardRef(u);n.p},752:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=["title","titleId"];function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n=e.title,s=e.titleId,l=o(e,a);return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":s},l),n?r.createElement("title",{id:s},n):null,r.createElement("path",{d:"M444.144 230.551a40.004 40.004 0 0127.866 68.688L311.398 459.852h473.346a40.148 40.148 0 110 80.289H311.398L472.01 700.754a40.004 40.004 0 11-56.569 56.569L188.916 530.795a40.004 40.004 0 01-11.43-15.74 40.148 40.148 0 010-.002 40.004 40.004 0 01-1.156-3.32 40.148 40.148 0 01-.184-.559 40.004 40.004 0 01-.691-2.898 40.148 40.148 0 01-.023-.098 40.004 40.004 0 01-.112-.469 40.148 40.148 0 01-.105-.51 40.004 40.004 0 01-.283-2.064 40.004 40.004 0 01-.211-1.576 40.148 40.148 0 01-.034-.469 40.004 40.004 0 01-.043-1.074 40.004 40.004 0 01-.085-2.623 40.148 40.148 0 01.006-.12 40.004 40.004 0 01.019-.378 40.004 40.004 0 010-.012 40.004 40.004 0 01.002-.031 40.004 40.004 0 0114.436-29.762l226.42-226.42a40.004 40.004 0 0128.702-12.119z",style:{lineHeight:"normal",textIndent:0,textAlign:"start",textDecorationLine:"none",textDecorationStyle:"solid",textTransform:"none",blockProgression:"tb",whiteSpace:"normal",isolation:"auto",mixBlendMode:"normal",solidOpacity:1},fontWeight:400,fontFamily:"sans-serif",overflow:"visible",fillRule:"evenodd"}))}var l=r.forwardRef(s);n.p},764:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a=n(0),i=["title","titleId"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){var n=e.title,l=e.titleId,d=s(e,i);return a.createElement("svg",o({id:"Icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve",ref:t,"aria-labelledby":l},d),n?a.createElement("title",{id:l},n):null,r||(r=a.createElement("path",{d:"M20.5,10H14V3.5C14,3.2,13.8,3,13.5,3h-3C10.2,3,10,3.2,10,3.5V10H3.5C3.2,10,3,10.2,3,10.5v3C3,13.8,3.2,14,3.5,14H10v6.5 c0,0.3,0.2,0.5,0.5,0.5h3c0.3,0,0.5-0.2,0.5-0.5V14h6.5c0.3,0,0.5-0.2,0.5-0.5v-3C21,10.2,20.8,10,20.5,10z"})))}var d=a.forwardRef(l);n.p},773:function(e,t,n){"use strict";n.r(t),n.d(t,"getRoundedToTwoDecimalsOrZero",(function(){return r})),n.d(t,"getRoundedToOneDecimalOrZero",(function(){return a})),n.d(t,"getRoundedValueInPercent",(function(){return i}));var r=function(e){return"undefined"!==typeof e?Math.round(100*(e+Number.EPSILON))/100:0},a=function(e){return"undefined"!==typeof e?Math.round(10*(e+Number.EPSILON))/10:0},i=function(e,t){return void 0===t&&(t=0),Math.round(100*(e+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)}},783:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a=n(0),i=["title","titleId"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){var n=e.title,l=e.titleId,d=s(e,i);return a.createElement("svg",o({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},d),n?a.createElement("title",{id:l},n):null,r||(r=a.createElement("path",{d:"M24 7.75L20.5895 4.5L12 13L3.41053 4.5L-1.42062e-07 7.75L12 19.5L24 7.75Z"})))}var d=a.forwardRef(l);n.p},792:function(e,t,n){(function(n){var r,a,i;a=[],void 0===(i="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var s=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):a(l.href)?r(e,t,n):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(a(e))r(e,n,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var i="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},d.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,c=u.createObjectURL(e);a?a.location=c:location.href=c,a=null,setTimeout((function(){u.revokeObjectURL(c)}),4e4)}});o.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,a):r)||(e.exports=i)}).call(this,n(47))},829:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(17),a=n(285),i=(n(0),n(15)),o=n(189),s=n(61),l=n(23),d=n(14),u=n(783),c=n(166),g=n(1),b=["sidebarOptions"],f=Object(s.default)(d.TextWithAutoTooltipOnEllipsis)((function(e){var t=e.theme;return{color:t.colors.grey[6],cursor:"pointer",fontSize:t.fontSizes.small,fontWeight:t.fontWeights.semiBold,":hover":{color:t.colors.primary[3]}}}),(function(e){var t=e.isActive,n=e.theme;return t?{color:n.colors.primary[3]}:{}})),m=Object(s.default)(d.Icon)((function(e){return{transform:e.isActive?"rotate(0deg)":"rotate(-90deg)",transition:"transform 0.2s ease"}})),p=Object(s.default)(d.MenuOption)((function(e){var t=e.theme;return{minHeight:"36px",height:"fit-content",width:"100%",display:"flex",justifyContent:"space-between",whiteSpace:"pre-wrap",fontSize:t.fontSizes.small,color:t.colors.black[3],fontWeight:t.fontWeights.semiBold,textAlign:"left",":first-child":{marginTop:t.space[1]},"& * > svg":{fill:t.colors.black[3]}}}),(function(e){var t=e.theme;return{":hover":{backgroundColor:t.colors.primary[1],color:t.colors.primary[3],"& * > svg":{fill:t.colors.primary[3]}}}}),(function(e){var t=e.theme;return e.isOptionActive?{backgroundColor:t.colors.primary[1],color:t.colors.primary[3],"& * > svg":{fill:t.colors.primary[3]}}:{}})),y={opened:{height:"fit-content",width:"100%",marginLeft:"25px"},closed:{height:"0%",width:"100%",marginLeft:"25px"}},h=function(e){var t=e.sidebarOptions,n=Object(a.a)(e,b),s=Object(i.useLocation)().pathname,h=Object(i.useHistory)();return Object(g.jsx)(d.Column,Object(r.a)(Object(r.a)({display:"flex",justifyContent:"flex-start",minWidth:"200px",maxWidth:"200px",height:"100%"},n),{},{children:t.map((function(e,t){var n=e.icon,r=e.label,a=e.subMenuItems,i=e.to,b=Object(c.a)(s,i)||(a||[]).some((function(e){return Object(c.a)(s,e.to)}));return Object(g.jsxs)(d.Column,{display:"flex",justifyContent:"flex-start",width:"100%",children:[Object(g.jsxs)(p,{as:d.Line,p:1,onClick:function(){h.push(i)},isOptionActive:b,width:"100%",children:[Object(g.jsxs)(d.Line,{children:["undefined"!==typeof n&&Object(g.jsx)(d.Icon,{as:n,size:16}),Object(l.maj)(r)]}),Object(g.jsx)(d.Box,{alignItems:"center",display:"flex",height:"100%",children:"undefined"!==typeof a&&a.length>0&&Object(g.jsx)(m,{as:u.a,isActive:b,size:10})})]}),"undefined"!==typeof a&&a.length>0&&b&&Object(g.jsx)(d.Column,{width:"100%",children:Object(g.jsx)(d.Box,{as:o.motion.div,variants:y,animate:b?"opened":"closed",children:a.map((function(e,t){var n=Object(c.a)(s,e.to);return Object(g.jsx)(d.Box,{onClick:function(){return h.push(e.to)},width:"100%",py:0,children:Object(g.jsx)(f,{isActive:n,fontSize:"small",rows:2,tooltipTitle:e.label,children:e.label})},"".concat(e.label,"_").concat(t))}))})})]},"".concat(r,"_").concat(t))}))}))}},855:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(17),a=n(285),i=(n(0),n(14)),o=n(829),s=n(742),l=n(1),d=["sidebarOptions"],u=function(e){var t=e.sidebarOptions,n=Object(a.a)(e,d);return Object(l.jsx)(s.a,Object(r.a)(Object(r.a)({},n),{},{children:Object(l.jsxs)(i.Line,{height:"100%",width:"100%",position:"relative",children:[Object(l.jsx)(o.a,{sidebarOptions:t}),Object(l.jsx)(i.Column,{pt:1,height:"100%",width:"100%",overflowY:"auto",children:n.children})]})}))}}}]);